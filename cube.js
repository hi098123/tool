var Cube,Solver,Cube_COLORS,Solver2,min2phase;!function o(n,i,a){function u(t,e){if(!i[t]){if(!n[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(s)return s(t,!0);throw(r=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",r}r=i[t]={exports:{}},n[t][0].call(r.exports,function(e){return u(n[t][1][e]||e)},r,r.exports,o,n,i,a)}return i[t].exports}for(var s="function"==typeof require&&require,e=0;e<a.length;e++)u(a[e]);return u}({1:[function(e,t,r){"use strict";var o=function(){var p=!0,x=2,s=p;function t(){this.move=[],this.moveSol=[],this.nodeUD=[],this.valid1=0,this.allowShorter=!1,this.cc=new _,this.urfCubieCube=[],this.urfCoordCube=[],this.phase1Cubie=[],this.preMoveCubes=[],this.preMoves=[],this.preMoveLen=0,this.maxPreMoves=0,this.isRec=!1;for(var e=0;e<21;e++)this.nodeUD[e]=new W,this.phase1Cubie[e]=new _;for(e=0;e<6;e++)this.urfCubieCube[e]=new _,this.urfCoordCube[e]=new W;for(e=0;e<20;e++)this.preMoveCubes[e+1]=new _}for(var v=18,d=10,m=2048,R=336,g=2187,y=324,F=40320,b=2768,U=24,P=495,S=140,u=[],c=[1],o=["U ","U2","U'","R ","R2","R'","F ","F2","F'","D ","D2","D'","L ","L2","L'","B ","B2","B'"],O=[0,1,2,4,7,9,10,11,13,16,3,5,6,8,12,14,15,17],C=[],L=[],l=[[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],[6,7,8,0,1,2,3,4,5,15,16,17,9,10,11,12,13,14],[3,4,5,6,7,8,0,1,2,12,13,14,15,16,17,9,10,11],[2,1,0,5,4,3,8,7,6,11,10,9,14,13,12,17,16,15],[8,7,6,2,1,0,5,4,3,17,16,15,11,10,9,14,13,12],[5,4,3,8,7,6,2,1,0,14,13,12,17,16,15,11,10,9]],e=0;e<18;e++)C[O[e]]=e;for(e=0;e<10;e++)for(var r=~~(O[e]/3),n=L[e]=0;n<10;n++){var i=~~(O[n]/3);L[e]|=(r==i||r%3==i%3&&i<=r?1:0)<<n}for(e=L[10]=0;e<13;e++){u[e]=[],c[e+1]=c[e]*(e+1);for(n=u[e][0]=u[e][e]=1;n<13;n++)u[e][n]=n<=e?u[e-1][n-1]+u[e-1][n]:0}function I(e,t,r){e[t>>3]^=r<<(t<<2)}function G(e,t){return e[t>>3]>>(t<<2)&15}function w(e,t,r){return Math.min(e,t[r>>3]>>(r<<2)&15)}function a(e){return e^14540032>>((15&e)<<1)&3}function E(e,t,r){e=ae[e];return 65520&(e=r?a(e):e)|V[15&e][t]}function _(){this.ca=[0,1,2,3,4,5,6,7],this.ea=[0,1,2,3,4,5,6,7,8,9,10,11]}function M(e,t,r){r--;for(var o=1985229328,n=0;n<r;++n){var i=c[r-n],a=~~(t/i);t%=i,a<<=2,e[n]=240&e[n]|o>>a&15;a=(1<<a)-1,o=(o&a)+(o>>4&~a)}e[r]=240&e[r]|15&o}function f(e,t){for(var r=0,o=1985229328,n=0;n<t-1;++n){var i=(15&e[n])<<2,r=(t-n)*r+(o>>i&15);o-=286331152<<i}return r}function h(e,t,r){e[r-1]=240&e[r-1];for(var o=r-2;0<=o;--o){e[o]=240&e[o]|t%(r-o),t=~~(t/(r-o));for(var n=o+1;n<r;++n)(15&e[n])>=(15&e[o])&&(e[n]+=1)}}function B(e,t){for(var r=0,o=0;o<t;++o){r*=t-o;for(var n=o+1;n<t;++n)(15&e[n])<(15&e[o])&&++r}return r}function N(e,t){for(var r=0,o=4,n=e.length-1;0<=n;n--)(12&(15&e[n]))==t&&(r+=u[n][o--]);return r}function k(e,t,r){for(var o=e.length-1,n=4,i=o,a=o;0<=a;a--)t>=u[a][n]?(t-=u[a][n--],e[a]=240&e[a]|n|r):((12&i)==r&&(i-=4),e[a]=240&e[a]|i--)}function j(e,t){for(var r=0,o=t-2;0<=o;o--)r^=e%(t-o),e=~~(e/(t-o));return 1&r}_.EdgeMult=function(e,t,r){for(var o=0;o<12;o++)r.ea[o]=e.ea[15&t.ea[o]]^16&t.ea[o]},_.CornMult=function(e,t,r){for(var o=0;o<8;o++){var n=((e.ca[15&t.ca[o]]>>4)+(t.ca[o]>>4))%3;r.ca[o]=15&e.ca[15&t.ca[o]]|n<<4}},_.CornMultFull=function(e,t,r){for(var o=0;o<8;o++){var n=e.ca[15&t.ca[o]]>>4,i=t.ca[o]>>4;r.ca[o]=15&e.ca[15&t.ca[o]]|(n+(n<3?i:6-i))%3+(n<3==i<3?0:3)<<4}},_.CornConjugate=function(e,t,r){for(var o=Y[H[0][t]],n=Y[t],i=0;i<8;i++){var a=o.ca[15&e.ca[15&n.ca[i]]]>>4,u=e.ca[15&n.ca[i]]>>4;r.ca[i]=15&o.ca[15&e.ca[15&n.ca[i]]]|(a<3?u:(3-u)%3)<<4}},_.EdgeConjugate=function(e,t,r){for(var o=Y[H[0][t]],n=Y[t],i=0;i<12;i++)r.ea[i]=o.ea[15&e.ea[15&n.ea[i]]]^16&e.ea[15&n.ea[i]]^16&n.ea[i]},_.prototype.init=function(e,t){return this.ca=e.slice(),this.ea=t.slice(),this},_.prototype.initCoord=function(e,t,r,o){return M(this.ca,e,8),this.setTwst(t),h(this.ea,r,12),this.setFlip(o),this},_.prototype.isEqual=function(e){for(var t=0;t<8;t++)if(this.ca[t]!=e.ca[t])return!1;for(t=0;t<12;t++)if(this.ea[t]!=e.ea[t])return!1;return!0},_.prototype.setFlip=function(e){for(var t=0,r=10;0<=r;r--,e>>=1)this.ea[r]=15&this.ea[r]|(1&e)<<4,t^=this.ea[r];this.ea[11]=15&this.ea[11]|16&t},_.prototype.getFlip=function(){for(var e=0,t=0;t<11;t++)e=e<<1|this.ea[t]>>4&1;return e},_.prototype.getFlipSym=function(){return z[this.getFlip()]},_.prototype.setTwst=function(e){for(var t=15,r=6;0<=r;r--,e=~~(e/3))this.ca[r]=15&this.ca[r]|e%3<<4,t-=this.ca[r]>>4;this.ca[7]=15&this.ca[7]|t%3<<4},_.prototype.getTwst=function(){for(var e=0,t=0;t<7;t++)e+=(e<<1)+(this.ca[t]>>4);return e},_.prototype.getTwstSym=function(){return ee[this.getTwst()]},_.prototype.setCPerm=function(e){M(this.ca,e,8)},_.prototype.getCPerm=function(){return f(this.ca,8)},_.prototype.getCPermSym=function(){return a(oe[f(this.ca,8)])},_.prototype.setEPerm=function(e){M(this.ea,e,8)},_.prototype.getEPerm=function(){return f(this.ea,8)},_.prototype.getEPermSym=function(){return oe[f(this.ea,8)]},_.prototype.getSlice=function(){return 494-N(this.ea,8)},_.prototype.setSlice=function(e){k(this.ea,494-e,8)},_.prototype.getMPerm=function(){return B(this.ea,12)%24},_.prototype.setMPerm=function(e){h(this.ea,e,12)},_.prototype.getCComb=function(){return N(this.ca,0)},_.prototype.setCComb=function(e){k(this.ca,e,0)},_.prototype.URFConjugate=function(){var e=new _;_.CornMult(_.urf2,this,e),_.CornMult(e,_.urf1,this),_.EdgeMult(_.urf2,this,e),_.EdgeMult(e,_.urf1,this)};var A=[[8,9,20],[6,18,38],[0,36,47],[2,45,11],[29,26,15],[27,44,24],[33,53,42],[35,17,51]],T=[[5,10],[7,19],[3,37],[1,46],[32,16],[28,25],[30,43],[34,52],[23,12],[21,41],[50,39],[48,14]];function W(){this.twst=0,this.flip=0,this.slice=0,this.prun=0,this.twstc=0,this.flipc=0}_.prototype.toFaceCube=function(e,t){e=e||A,t=t||T;for(var r="URFDLB",o=[],n=0;n<54;n++)o[n]=r[~~(n/9)];for(var i=0;i<8;i++)for(var a=15&this.ca[i],u=this.ca[i]>>4,s=0;s<3;s++)o[e[i][(s+u)%3]]=r[~~(e[a][s]/9)];for(var c=0;c<12;c++)for(a=15&this.ea[c],u=this.ea[c]>>4,s=0;s<2;s++)o[t[c][(s+u)%2]]=r[~~(t[a][s]/9)];return o.join("")},_.prototype.invFrom=function(e){for(var t=0;t<12;t++)this.ea[15&e.ea[t]]=15&t|16&e.ea[t];for(var r=0;r<8;r++)this.ca[15&e.ca[r]]=r|64>>(e.ca[r]>>4)&48;return this},_.prototype.fromFacelet=function(e,t,r){t=t||A,r=r||T;for(var o,n,i,a,u=0,s=[],c=e[4]+e[13]+e[22]+e[31]+e[40]+e[49],l=0;l<54;++l){if(s[l]=c.indexOf(e[l]),-1==s[l])return-1;u+=1<<(s[l]<<2)}if(10066329!=u)return-1;for(l=0;l<8;++l){for(a=0;a<3&&(0!=s[t[l][a]]&&3!=s[t[l][a]]);++a);for(o=s[t[l][(a+1)%3]],n=s[t[l][(a+2)%3]],i=0;i<8;++i)if(o==~~(t[i][1]/9)&&n==~~(t[i][2]/9)){this.ca[l]=i|a%3<<4;break}}for(l=0;l<12;++l)for(i=0;i<12;++i){if(s[r[l][0]]==~~(r[i][0]/9)&&s[r[l][1]]==~~(r[i][1]/9)){this.ea[l]=i;break}if(s[r[l][0]]==~~(r[i][1]/9)&&s[r[l][1]]==~~(r[i][0]/9)){this.ea[l]=16|i;break}}},W.prototype.set=function(e){this.twst=e.twst,this.flip=e.flip,this.slice=e.slice,this.prun=e.prun,s&&(this.twstc=e.twstc,this.flipc=e.flipc)},W.prototype.calcPruning=function(e){this.prun=Math.max(w(Pe,fe,(this.twst>>3)*P+le[this.slice<<3|7&this.twst]),w(Se,he,(this.flip>>3)*P+le[this.slice<<3|7&this.flip]),s?w(Ue,ve,this.twstc>>3<<11|J[this.flipc^7&this.twstc]):0,p?w(Ue,ve,this.twst>>3<<11|J[this.flip^7&this.twst]):0)},W.prototype.setWithPrun=function(e,t){return this.twst=e.getTwstSym(),this.flip=e.getFlipSym(),this.prun=p?w(Ue,ve,this.twst>>3<<11|J[this.flip^7&this.twst]):0,!(this.prun>t)&&(this.slice=e.getSlice(),this.prun=Math.max(this.prun,w(Pe,fe,(this.twst>>3)*P+le[this.slice<<3|7&this.twst]),w(Se,he,(this.flip>>3)*P+le[this.slice<<3|7&this.flip])),!(this.prun>t)&&(s&&(r=new _,_.CornConjugate(e,1,r),_.EdgeConjugate(e,1,r),this.twstc=r.getTwstSym(),this.flipc=r.getFlipSym(),this.prun=Math.max(this.prun,w(Ue,ve,this.twstc>>3<<11|J[this.flipc^7&this.twstc]))),this.prun<=t));var r},W.prototype.doMovePrun=function(e,t,r){return this.slice=ce[e.slice*v+t],this.flip=se[(e.flip>>3)*v+Z[t<<3|7&e.flip]]^7&e.flip,this.twst=ue[(e.twst>>3)*v+Z[t<<3|7&e.twst]]^7&e.twst,this.prun=Math.max(w(Pe,fe,(this.twst>>3)*P+le[this.slice<<3|7&this.twst]),w(Se,he,(this.flip>>3)*P+le[this.slice<<3|7&this.flip]),p?w(Ue,ve,this.twst>>3<<11|J[this.flip^7&this.twst]):0),this.prun},W.prototype.doMovePrunConj=function(e,t){return t=X[3][t],this.flipc=se[(e.flipc>>3)*v+Z[t<<3|7&e.flipc]]^7&e.flipc,this.twstc=ue[(e.twstc>>3)*v+Z[t<<3|7&e.twstc]]^7&e.twstc,w(Ue,ve,this.twstc>>3<<11|J[this.flipc^7&this.twstc])},t.prototype.solution=function(e,t,r,o,n,i,a){Be();e=this.verify(e);if(0!=e)return"Error "+Math.abs(e);void 0===r&&(r=1e9),void 0===o&&(o=0),void 0===n&&(n=0),this.sol=(t=void 0===t?21:t)+1,this.probe=0,this.probeMax=r,this.probeMin=Math.min(o,r),this.verbose=n,this.moveSol=null,this.isRec=!1,this.firstFilters=[0,0,0,0,0,0],this.lastFilters=[0,0,0,0,0,0];for(var u=0;u<3;u++)void 0!==i&&(this.firstFilters[u]|=3591<<3*~~(l[(3-u)%3][3*i]/3),this.lastFilters[u+3]|=3591<<3*~~(l[(3-u)%3][3*i]/3)),void 0!==a&&(this.lastFilters[u]|=3591<<3*~~(l[(3-u)%3][3*a]/3),this.firstFilters[u+3]|=3591<<3*~~(l[(3-u)%3][3*a]/3));return this.initSearch(),this.search()},t.prototype.initSearch=function(){this.conjMask=0,this.maxPreMoves=7<this.conjMask?0:20;for(var e,t=0;t<6;t++)this.urfCubieCube[t].init(this.cc.ca,this.cc.ea),this.urfCoordCube[t].setWithPrun(this.urfCubieCube[t],20),this.cc.URFConjugate(),t%3==2&&(e=(new _).invFrom(this.cc),this.cc.init(e.ca,e.ea))},t.prototype.next=function(e,t,r){return this.probe=0,this.probeMax=e,this.probeMin=Math.min(t,e),this.moveSol=null,this.isRec=!0,this.verbose=r,this.search()},t.prototype.verify=function(e){if(-1==this.cc.fromFacelet(e))return-1;for(var t=0,r=0,o=0;o<12;o++)r|=1<<(15&this.cc.ea[o]),t^=this.cc.ea[o]>>4;if(4095!=r)return-2;if(0!=t)return-3;for(var n=0,t=0,i=0;i<8;i++)n|=1<<(15&this.cc.ca[i]),t+=this.cc.ca[i]>>4;return 255!=n?-4:t%3!=0?-5:0!=(j(B(this.cc.ea,12),12)^j(this.cc.getCPerm(),8))?-6:0},t.prototype.phase1PreMoves=function(e,t,r){if(e==this.maxPreMoves-1&&0!=(this.lastFilter>>t&1))return 1;if(this.preMoveLen=this.maxPreMoves-e,(this.isRec?this.depth1==this.length1-this.preMoveLen:0==this.preMoveLen||0==(225207>>t&1))&&(this.depth1=this.length1-this.preMoveLen,this.phase1Cubie[0].init(r.ca,r.ea),this.allowShorter=7==this.depth1&&0!=this.preMoveLen,this.nodeUD[this.depth1+1].setWithPrun(r,this.depth1)&&0==this.phase1(this.nodeUD[this.depth1+1],this.depth1,-1)))return 0;if(0==e||this.preMoveLen+7>=this.length1)return 1;var o=0;(1==e||this.preMoveLen+1+7>=this.length1)&&(o|=225207),t=3*~~(t/3);for(var n=0;n<18;n++)if(n!=t&&n!=t-9&&n!=t+9){if(!(this.isRec&&n!=this.preMoves[this.maxPreMoves-e]||0!=(o&1<<n)))if(_.CornMult(D[n],r,this.preMoveCubes[e]),_.EdgeMult(D[n],r,this.preMoveCubes[e]),this.preMoves[this.maxPreMoves-e]=n,0==this.phase1PreMoves(e-1,n,this.preMoveCubes[e]))return 0}else n+=2;return 1},t.prototype.search=function(){for(this.length1=this.isRec?this.length1:0;this.length1<this.sol;this.length1++)for(this.urfIdx=this.isRec?this.urfIdx:0;this.urfIdx<6;this.urfIdx++)if(0==(this.conjMask&1<<this.urfIdx)&&(this.firstFilter=this.firstFilters[this.urfIdx],this.lastFilter=this.lastFilters[this.urfIdx],0==this.phase1PreMoves(this.maxPreMoves,-30,this.urfCubieCube[this.urfIdx],0)))return null==this.moveSol?"Error 8":this.moveSol;return null==this.moveSol?"Error 7":this.moveSol},t.prototype.initPhase2Pre=function(){if(this.isRec=!1,this.probe>=(null==this.moveSol?this.probeMax:this.probeMin))return 0;++this.probe;for(var e=this.valid1;e<this.depth1;e++)_.CornMult(this.phase1Cubie[e],D[this.move[e]],this.phase1Cubie[e+1]),_.EdgeMult(this.phase1Cubie[e],D[this.move[e]],this.phase1Cubie[e+1]);this.valid1=this.depth1;var t=this.initPhase2(this.phase1Cubie[this.depth1]);if(0==t||0==this.preMoveLen||2==t)return t;var r=3*~~(this.preMoves[this.preMoveLen-1]/3)+1;return _.CornMult(D[r],this.phase1Cubie[this.depth1],this.phase1Cubie[this.depth1+1]),_.EdgeMult(D[r],this.phase1Cubie[this.depth1],this.phase1Cubie[this.depth1+1]),this.preMoves[this.preMoveLen-1]+=2-this.preMoves[this.preMoveLen-1]%3*2,t=this.initPhase2(this.phase1Cubie[this.depth1+1]),this.preMoves[this.preMoveLen-1]+=2-this.preMoves[this.preMoveLen-1]%3*2,t},t.prototype.initPhase2=function(e){var t=e.getCPermSym(),r=15&t;t>>=4;var o=e.getEPermSym(),n=15&o;o>>=4;var i,a=e.getMPerm(),u=Math.max(w(Ce,be,o*S+ye[(255&ie[t])<<4|H[n][r]]),w(Oe,Fe,t*U+de[a<<4|r])),e=Math.min(13,this.sol-this.length1);if(e<=u)return e<u?2:1;for(i=e-1;u<=i;i--){var s=this.phase2(o,n,t,r,a,i,this.depth1,10);if(s<0)break;i-=s,this.moveSol=[];for(var c=0;c<this.depth1+i;c++)this.appendSolMove(this.move[c]);for(c=this.preMoveLen-1;0<=c;c--)this.appendSolMove(this.preMoves[c]);this.sol=this.moveSol.length,this.moveSol=this.solutionToString()}return i!=e-1&&this.probe>=this.probeMin?0:1},t.prototype.phase1=function(e,t,r){if(t==this.depth1-1&&0!=(this.firstFilter>>r&1))return 1;if(0==e.prun&&t<5){if(this.allowShorter||0==t){this.depth1-=t;var o=this.initPhase2Pre();return this.depth1+=t,o}return 1}for(var n=0;n<18;n+=3)if(n!=r&&n!=r-9)for(var i=0;i<3;i++){var a=n+i;if(!this.isRec||a==this.move[this.depth1-t]){var u=this.nodeUD[t].doMovePrun(e,a,!0);if(t<u)break;if(u!=t){if(s){if(t<(u=this.nodeUD[t].doMovePrunConj(e,a)))break;if(u==t)continue}if(this.move[this.depth1-t]=a,this.valid1=Math.min(this.valid1,this.depth1-t),0==(o=this.phase1(this.nodeUD[t],t-1,n)))return 0;if(2==o)break}}}return 1},t.prototype.appendSolMove=function(e){var t,r,o;0!=this.moveSol.length?(t=~~(e/3))!=(r=~~(this.moveSol[this.moveSol.length-1]/3))?1<this.moveSol.length&&t%3==r%3&&t==~~(this.moveSol[this.moveSol.length-2]/3)?3==(o=(e%3+this.moveSol[this.moveSol.length-2]%3+1)%4)?(this.moveSol[this.moveSol.length-2]=this.moveSol[this.moveSol.length-1],this.moveSol.pop()):this.moveSol[this.moveSol.length-2]=3*t+o:this.moveSol.push(e):3==(o=(e%3+this.moveSol[this.moveSol.length-1]%3+1)%4)?this.moveSol.pop():this.moveSol[this.moveSol.length-1]=3*t+o:this.moveSol.push(e)},t.prototype.phase2=function(e,t,r,o,n,i,a,u){if(0==this.depth1&&1==a&&0!=(this.firstFilter>>O[u]&1))return-1;if(0==e&&0==r&&0==n&&(0<this.preMoveLen||0==(this.lastFilter>>O[u]&1)))return i;for(var s=L[u],c=0;c<10;c++)if(0==(s>>c&1)){var l=Re[n*d+c],f=me[r*d+K[o][c]],h=V[15&f][o];if(!(w(Oe,Fe,(f>>=4)*U+de[l<<4|h])>=i)){var v=pe[e*d+K[t][c]],m=V[15&v][t];if(!(w(Ce,be,(v>>=4)*S+ye[(255&ie[f])<<4|H[m][h]])>=i)){var p=E(v,m,!1),R=E(f,h,!0);if(!(w(Ce,be,(p>>4)*S+ye[(255&ie[R>>4])<<4|H[15&p][15&R]])>=i)){l=this.phase2(v,m,f,h,l,i-1,a+1,c);if(0<=l)return this.move[a]=O[c],l}}}}else c+=66>>c&3;return-1},t.prototype.solutionToString=function(){var e="",t=0!=(2&this.verbose)?(this.urfIdx+3)%6:this.urfIdx;if(t<3)for(var r=0;r<this.moveSol.length;++r)e+=o[l[t][this.moveSol[r]]]+" ";else for(r=this.moveSol.length-1;0<=r;--r)e+=o[l[t][this.moveSol[r]]]+" ";return e};for(var D=[],Y=[],V=[],H=[],X=[],K=[],Z=[],q=[],z=[],$=[],J=[],Q=[],ee=[],te=[],re=[],oe=[],ne=[],ie=[],ae=[],ue=[],se=[],ce=[],le=[],fe=[],he=[],ve=[],me=[],pe=[],Re=[],de=[],ge=[],ye=[],Fe=[],be=[],Ue=15,Pe=15,Se=15,Oe=15,Ce=15,e=0;e<18;e++)D[e]=new _;D[0].initCoord(15120,0,119750400,0),D[3].initCoord(21021,1494,323403417,0),D[6].initCoord(8064,1236,29441808,550),D[9].initCoord(9,0,5880,0),D[12].initCoord(1230,412,2949660,0),D[15].initCoord(224,137,328552,137);for(var Le=0;Le<18;Le+=3)for(var we=0;we<2;we++)_.EdgeMult(D[Le+we],D[Le],D[Le+we+1]),_.CornMult(D[Le+we],D[Le],D[Le+we+1]);_.urf1=(new _).initCoord(2531,1373,67026819,1367),_.urf2=(new _).initCoord(2089,1906,322752913,2040);var Ee=-1;function _e(e,t,r,o,n,i,a,u){var s=15&u,c=1==(u>>4&1)?14540032:0,l=u>>8&15,f=u>>12&15,h=u>>16&15,v=(1<<s)-1,m=null==o,p=t*r,R=1==(u>>5&1)?10:18,d=10==R?66:599186,g=G(e,p)-1;if(-1==g){for(var y=0;y<1+(p>>3);y++)e[y]=-1;I(e,0,15),g=0}else I(e,p,15^g+1);for(var F,b=0<x?Math.min(Math.max(g+1,h),f):f;g<b;){var U=l<g,P=U?15:g,S=286331153*P,O=U?g:15;Ee++;for(var C=15^++g,L=0,y=0;y<p;y++,L>>=4)if(0!=(7&y)||(L=e[y>>3],0!=((F=L^S)-286331153&~F&2290649224))){if((15&L)==P){var w=y%t,E=~~(y/t),_=0,M=0;m&&(M=7&(_=z[w]),_>>=3);for(var B=0;B<R;B++){var N=i[E*R+B],k=m?J[se[_*R+Z[B<<3|M]]^M^N&v]:n[o[w*R+B]<<s|N&v],j=(N>>=s)*t+k,A=G(e,j);if(A==O){if(U){I(e,y,C);break}I(e,j,C);for(var T,W=1,D=a[N];0!=(D>>=1);W++)1==(1&D)&&(T=N*t,G(e,T+=m?J[z[k]^W]:n[k<<s|W^c>>(W<<1)&3])==O&&(I(e,T,C),0))}else A<g-1&&(B+=d>>B&3)}}}else y+=7}return I(e,p,g+1^15),g+1}function Me(e){p&&(Ue=_e(ve,m,y,null,null,ue,te,103939)),e<Ee||(Pe=_e(fe,P,y,ce,le,ue,te,431619),e<Ee||(Se=_e(he,P,R,ce,le,se,$,431619),e<Ee||(Oe=_e(Fe,24,b,Re,de,me,ne,584244),e<Ee||(Ce=_e(be,S,b,ge,ye,pe,ne,514084)))))}function Be(){if(Ee<0&&(function(){for(var l=new _,f=new _,e=(new _).initCoord(28783,0,259268407,0),t=(new _).initCoord(15138,0,119765538,7),r=(new _).initCoord(5167,0,83473207,0),o=0;o<8;o++)r.ca[o]|=48;for(o=0;o<16;o++)Y[o]=(new _).init(l.ca,l.ea),_.CornMultFull(l,t,f),_.EdgeMult(l,t,f),l.init(f.ca,f.ea),o%4==3&&(_.CornMultFull(l,r,f),_.EdgeMult(l,r,f),l.init(f.ca,f.ea)),o%8==7&&(_.CornMultFull(l,e,f),_.EdgeMult(l,e,f),l.init(f.ca,f.ea));for(o=0;o<16;o++)V[o]=[],H[o]=[],X[o]=[],Z[o]=[],K[o]=[];for(o=0;o<16;o++)for(var n=0;n<16;n++)V[o][n]=o^n^84660>>n&o<<1&2,H[V[o][n]][n]=o;for(var l=new _,i=0;i<16;i++)for(n=0;n<18;n++){_.CornConjugate(D[n],H[0][i],l);e:for(var a=0;a<18;a++){for(var u=0;u<8;u++)if(D[a].ca[u]!=l.ca[u])continue e;X[i][n]=a,K[i][C[n]]=C[a];break}i%2==0&&(Z[n<<3|i>>1]=X[i][n])}function s(e,t,r,o,n,i,a){for(var u=new _,s=new _,c=0,l=2<=n?1:2,f=1!=n?_.EdgeConjugate:_.CornConjugate,h=0;h<e;h++)if(void 0===r[h]){i.call(u,h);for(var v=0;v<16;v+=l){f(u,v,s);var m=a.call(s);p&&0==n&&(J[c<<3|v>>1]=m),m==h&&(o[c]|=1<<v/l),r[m]=(c<<4|v)/l}t[c++]=h}return c}s(m,q,z,$,0,_.prototype.setFlip,_.prototype.getFlip),s(g,Q,ee,te,1,_.prototype.setTwst,_.prototype.getTwst),s(F,re,oe,ne,2,_.prototype.setEPerm,_.prototype.getEPerm);for(var c=new _,o=0;o<b;o++)M(c.ea,re[o],8),ie[o]=N(c.ea,0)+70*j(re[o],8),l.invFrom(c),ae[o]=oe[l.getEPerm()];function h(e,t,r,o,n,i,a,u){for(var s=0;s<r;s++){n.call(l,t[s]);for(var c=0;c<o;c++)a(l,D[u?u[c]:c],f),e[s*o+c]=i.call(f)}}for(l=new _,f=new _,h(se,q,R,v,_.prototype.setFlip,_.prototype.getFlipSym,_.EdgeMult),h(ue,Q,y,v,_.prototype.setTwst,_.prototype.getTwstSym,_.CornMult),h(pe,re,b,d,_.prototype.setEPerm,_.prototype.getEPermSym,_.EdgeMult,O),h(me,re,b,d,_.prototype.setCPerm,_.prototype.getCPermSym,_.CornMult,O),o=0;o<P;o++){l.setSlice(o);for(n=0;n<v;n++)_.EdgeMult(l,D[n],f),ce[o*v+n]=f.getSlice();for(n=0;n<16;n+=2)_.EdgeConjugate(l,H[0][n],f),le[o<<3|n>>1]=f.getSlice()}for(o=0;o<U;o++){l.setMPerm(o);for(n=0;n<d;n++)_.EdgeMult(l,D[O[n]],f),Re[o*d+n]=f.getMPerm();for(n=0;n<16;n++)_.EdgeConjugate(l,H[0][n],f),de[o<<4|n]=f.getMPerm()}for(o=0;o<S;o++){l.setCComb(o%70);for(n=0;n<d;n++)_.CornMult(l,D[O[n]],f),ge[o*d+n]=f.getCComb()+70*(165>>n&1^~~(o/70));for(n=0;n<16;n++)_.CornConjugate(l,H[0][n],f),ye[o<<4|n]=f.getCComb()+70*~~(o/70)}}(),Ee=0),0==Ee)Me(99);else{if(!(Ee<54))return 1;Me(Ee)}}return{Search:t,solve:function(e){return(new t).solution(e)},randomCube:function(){for(var e,t,r=~~(2048*Math.random()),o=~~(2187*Math.random());e=~~(Math.random()*c[12]),j(t=~~(Math.random()*c[8]),8)!=j(e,12););return(new _).initCoord(t,o,e,r).toFaceCube()},fromScramble:function(e){for(var t=-1,r=new _,o=new _,n=0;n<e.length;n++)switch(e[n]){case"U":case"R":case"F":case"D":case"L":case"B":t=3*"URFDLB".indexOf(e[n]);break;case" ":-1!=t&&(_.CornMult(r,D[t],o),_.EdgeMult(r,D[t],o),r.init(o.ca,o.ea)),t=-1;break;case"2":t++;break;case"'":t+=2;break;default:continue}return-1!=t&&(_.CornMult(r,D[t],o),_.EdgeMult(r,D[t],o),r.init(o.ca,o.ea)),o.toFaceCube()},initFull:function(){x=0,Be()},INVERSE_SOLUTION:2}}();void 0!==t&&void 0!==t.exports&&(t.exports=o)},{}],2:[function(e,t,r){var o,n;o=this,n=function(){return n={},o.m=r=[function(e,t,r){"use strict";function n(t){var r={};return Object.keys(t).forEach(function(e){r[e.toLowerCase()]=t[e].toLowerCase()}),r}function i(t,e){var r=Object.keys(t);if(r.length<=1&&["front","back"].includes(r[0]))throw new Error('Orientation object "'+t+'" is ambiguous. Please specify one of these faces: "up", "right", "down", "left"');var o=t;return t={},r.forEach(function(e){["front","back"].includes(e)||(t[e]=o[e])}),t.front=e.toLowerCase(),t}function a(t){if(Object.keys(t)<=1)throw new Error('Orientation object "'+t+'" is ambiguous. Please specify 2 faces.');var e=Object.keys(t),r=e.map(function(e){return new l.Face(t[e])}),o=e.map(function(e){return new l.Face(e)}),n=f.Vector.getRotationFromNormals(r[0].normal(),r[0].orientTo(o[0]).normal());r[1].rotate(n.axis,n.angle);o=f.Vector.getRotationFromNormals(r[1].normal(),r[1].orientTo(o[1]).normal());return Math.abs(o.angle)===Math.PI&&(e=new l.Face(e[0]).vector.getAxis(),o.axis=e),[n,o]}function c(e,t){var r=!0,o=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var u=i.value,s=!0,c=!1,l=void 0;try{for(var f,h=t[Symbol.iterator]();!(s=(f=h.next()).done);s=!0){var v=f.value;u.rotate(v.axis,v.angle)}}catch(e){c=!0,l=e}finally{try{!s&&h.return&&h.return()}finally{if(c)throw l}}}}catch(e){o=!0,n=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw n}}}Object.defineProperty(t,"__esModule",{value:!0}),t.orientMoves=t.getRotationFromTo=t.getFaceFromDirection=t.getDirectionFromFaces=t.normalizeNotations=t.transformNotations=t.getFaceMatchingMiddle=t.getMiddleMatchingFace=t.getMoveOfFace=t.getFaceOfMove=void 0;var o=r(7),u=o&&o.__esModule?o:{default:o},l=r(10),f=r(4),s={f:"s",r:"mprime",u:"eprime",d:"e",l:"m",b:"sprime"},h=t.getFaceOfMove=function(e){if("string"!=typeof e)throw new TypeError("move must be a string");e=e[0].toLowerCase();return"f"===e?"front":"r"===e?"right":"u"===e?"up":"d"===e?"down":"l"===e?"left":"b"===e?"back":void 0},v=t.getMoveOfFace=function(e){if("string"!=typeof e)throw new TypeError("face must be a string");if(e=e.toLowerCase(),!["front","right","up","down","left","back"].includes(e))throw new Error(e+" is not valid face");return e[0]},m=t.getMiddleMatchingFace=function(e){return e=e.toLowerCase()[0],s[e]},p=t.getFaceMatchingMiddle=function(e){e=e.toLowerCase();var t=!0,r=!1,o=void 0;try{for(var n,i=Object.keys(s)[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var a=n.value;if(e===s[a])return a}}catch(e){r=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw o}}},R=t.transformNotations=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=d(e);return t.upperCase&&(r=r.map(function(e){return e[0].toUpperCase()+e.slice(1)})),t.orientation&&(r=y(r,t.orientation)),t.reverse&&(r=function(e){var t=[],r=!0,o=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var u=(u=i.value).includes("prime")?u[0]:u[0]+"prime";t.push(u)}}catch(e){o=!0,n=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw n}}return"string"==typeof moves?t.join(" "):t}(r)),"string"==typeof e?r.join(" "):r},d=t.normalizeNotations=function(e){return(e=(e="string"==typeof e?e.split(" "):e).filter(function(e){return""!==e})).map(function(e){var t=e.toLowerCase().includes("prime"),r=e.includes("2");return e=e[0],r?e=e[0]+"2":t&&(e+="prime"),e})},g=t.getDirectionFromFaces=function(e,t,r){r=i(r=n(r),e);e=new l.Face(e),t=new l.Face(t);c([e,t],a(r));r=new f.Vector((0,u.default)([],e.normal(),t.normal())).getAxis(),t=f.Vector.getAngle(e.normal(),t.normal());return"x"===r&&0<t?"down":"x"===r&&t<0?"up":"y"===r&&0<t?"right":"y"===r&&t<0?"left":0===t?"front":t===Math.PI?"back":void 0},o=t.getFaceFromDirection=function(e,t,r){r=i(r=n(r),e);var o=new l.Face(e),e=a(r);c([o],e);r=new l.Face(t),t=f.Vector.getRotationFromNormals(o.normal(),r.normal()),r=t.axis,t=t.angle;return o.rotate(r,t),c([o],e.map(function(e){return f.Vector.reverseRotation(e)}).reverse()),o.toString()},r=t.getRotationFromTo=function(e,t,r){var o=new l.Face(e),n=new l.Face(t),i=new l.Face(r),a=o.vector.getAxis(),t=[n.vector.getAxis(),i.vector.getAxis()],r=t[0],t=t[1];if([r.toLowerCase(),t.toLowerCase()].includes(a.toLowerCase()))throw new Error("moving "+o+" from "+n+" to "+i+" is not possible.");e=v(e).toUpperCase(),i=f.Vector.getAngle(n.normal(),i.normal());return o.vector.getMagnitude()<0&&(i*=-1),0===i?"":Math.abs(i)===Math.PI?e+" "+e:i<0?""+e:0<i?e+"Prime":void 0},y=t.orientMoves=function(e,t){var s=a(t=n(t));return s.reverse().map(function(e){return f.Vector.reverseRotation(e)}),e.map(function(e){var t=e.toLowerCase().includes("prime"),r=e.includes("2"),o=e[0]===e[0].toLowerCase(),n=["m","e","s"].includes(e[0].toLowerCase());r&&(e=e.replace("2",""));var i,a=void 0;c([a=n?(i=h(p(e)),new l.Face(i)):(u=h(e[0]),new l.Face(u))],s);var u=void 0,u=n?m(a.toString()):a.toString()[0];return o||(u=u.toUpperCase()),r&&(u+="2"),t&&!n&&(u+="prime"),u})};t.default={getFaceOfMove:h,getMoveOfFace:v,getMiddleMatchingFace:m,getFaceMatchingMiddle:p,transformNotations:R,normalizeNotations:d,getDirectionFromFaces:g,getRotationFromTo:r,getFaceFromDirection:o,orientMoves:y}},function(e,t,r){"use strict";function U(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.RubiksCube=void 0;var o=function(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e},n=r(9),i=r(3),P=r(0),a="fffffffffrrrrrrrrruuuuuuuuudddddddddlllllllllbbbbbbbbb",o=(o(u,null,[{key:"Solved",value:function(){return new u(a)}},{key:"FromMoves",value:function(e){var t=u.Solved();return t.move(e),t}},{key:"Scrambled",value:function(){var e=u.Solved(),t=u.getRandomMoves(25);return e.move(t),e}},{key:"reverseMoves",value:function(e){return u.transformMoves(e,{reverse:!0})}},{key:"transformMoves",value:function(e){return(0,P.transformNotations)(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}},{key:"getRandomMoves",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:25,t=[],r=["F","Fprime","R","Rprime","U","Uprime","D","Dprime","L","Lprime","B","Bprime"];t.length<e;){for(var o=0;o<e-t.length;o++){var n=~~(Math.random()*r.length);t.push(r[n])}t=(0,i.algorithmShortener)(t).split(" ")}return t.join(" ")}}]),o(u,[{key:"getFace",value:function(e){if("string"!=typeof e)throw new Error('"face" must be a string (received: '+e+")");e=e.toLowerCase()[0];var n=void 0,i=void 0,a=void 0,u=void 0,t=void 0;if("f"===e)n="Y",i="X",a=-1,u=1,t=this._cubies.filter(function(e){return 1===e.getZ()});else if("r"===e)n="Y",i="Z",u=a=-1,t=this._cubies.filter(function(e){return 1===e.getX()});else if("u"===e)n="Z",i="X",u=a=1,t=this._cubies.filter(function(e){return 1===e.getY()});else if("d"===e)n="Z",i="X",a=-1,u=1,t=this._cubies.filter(function(e){return-1===e.getY()});else if("l"===e)n="Y",i="Z",a=-1,u=1,t=this._cubies.filter(function(e){return-1===e.getX()});else if("b"===e)n="Y",i="X",u=a=-1,t=this._cubies.filter(function(e){return-1===e.getZ()});else if(["m","e","s"].includes(e))return this._getMiddleCubiesForMove(e);return t.sort(function(e,t){var r=e["get"+n]()*a,o=e["get"+i]()*u,e=t["get"+n]()*a,t=t["get"+i]()*u;return r<e||!(e<r)&&o<t?-1:1})}},{key:"getCubie",value:function(u){return this._cubies.find(function(e){if(u.length!=e.faces().length)return!1;var t=!0,r=!1,o=void 0;try{for(var n,i=u[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var a=n.value;if(!e.faces().includes(a))return!1}}catch(e){r=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw o}}return!0})}},{key:"corners",value:function(){return this._cubies.filter(function(e){return e.isCorner()})}},{key:"edges",value:function(){return this._cubies.filter(function(e){return e.isEdge()})}},{key:"middles",value:function(){return this._cubies.filter(function(e){return e.isMiddle()})}},{key:"move",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&(e=e.split(" ")),e=(0,P.transformNotations)(e,t);var r=!0,o=!1,t=void 0;try{for(var n,i=e[Symbol.iterator]();!(r=(n=i.next()).done);r=!0){var a=n.value,u=a[0];if(u){var s,c,l=a.toLowerCase().includes("prime"),f=u===u.toLowerCase(),h=a.includes("2"),v=this._getRotationForFace(u),m=v.axis,p=v.mag,R=this.getFace(u);l&&(p*=-1),h&&(p*=2),f&&(s=(0,P.getMiddleMatchingFace)(u),c=this._getMiddleCubiesForMove(s),R=[].concat(U(R),U(c)));var d=!0,g=!1,y=void 0;try{for(var F,b=R[Symbol.iterator]();!(d=(F=b.next()).done);d=!0)F.value.rotate(m,p)}catch(e){g=!0,y=e}finally{try{!d&&b.return&&b.return()}finally{if(g)throw y}}}}}catch(e){o=!0,t=e}finally{try{!r&&i.return&&i.return()}finally{if(o)throw t}}}},{key:"isSolved",value:function(){return this.toString()===a}},{key:"toString",value:function(){var e="",t=!0,r=!1,o=void 0;try{for(var n,i=["front","right","up","down","left","back"][Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var a=n.value,u=this.getFace(a),s=!0,c=!1,l=void 0;try{for(var f,h=u[Symbol.iterator]();!(s=(f=h.next()).done);s=!0)e+=f.value.getColorOfFace(a)}catch(e){c=!0,l=e}finally{try{!s&&h.return&&h.return()}finally{if(c)throw l}}}}catch(e){r=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw o}}return e}},{key:"clone",value:function(){return new u(this.toString())}},{key:"_build",value:function(e){this._cubies=[],this._populateCube();var t=this._parseColors(e),r=!0,o=!1,n=void 0;try{for(var i,a=Object.keys(t)[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var u=i.value,s=t[u];this._colorFace(u,s)}}catch(e){o=!0,n=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw n}}}},{key:"_populateCube",value:function(){for(var e,t=-1;t<=1;t++)for(var r=-1;r<=1;r++)for(var o=-1;o<=1;o++)0===t&&0===r&&0===o||(e=new n.Cubie({position:[t,r,o]}),this._cubies.push(e))}},{key:"_parseColors",value:function(e){for(var t={front:[],right:[],up:[],down:[],left:[],back:[]},r=0;r<e.length;r++){var o=e[r];t[r<9?"front":r<18?"right":r<27?"up":r<36?"down":r<45?"left":"back"].push(o)}return t}},{key:"_colorFace",value:function(e,t){for(var r=this.getFace(e),o=0;o<t.length;o++)r[o].colorFace(e,t[o])}},{key:"_getRotationForFace",value:function(e){if("string"!=typeof e)throw new Error('"face" must be a string (received: '+e+")");return e=e.toLowerCase(),{axis:this._notationToRotation[e].axis,mag:this._notationToRotation[e].mag*Math.PI/2}}},{key:"_getMiddleCubiesForMove",value:function(e){e=e[0].toLowerCase();var t=void 0;return"m"===e?t=["left","right"]:"e"===e?t=["up","down"]:"s"===e&&(t=["front","back"]),this._cubies.filter(function(e){return!e.hasFace(t[0])&&!e.hasFace(t[1])})}}]),u);function u(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),54!==e.length)throw new Error("Wrong number of colors provided");this._notationToRotation={f:{axis:"z",mag:-1},r:{axis:"x",mag:-1},u:{axis:"y",mag:-1},d:{axis:"y",mag:1},l:{axis:"x",mag:1},b:{axis:"z",mag:1},m:{axis:"x",mag:1},e:{axis:"y",mag:1},s:{axis:"z",mag:-1}},this._build(e)}function s(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}t.RubiksCube=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSolver=void 0;var o=function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e},n=r(1),u=r(0),o=(o(i,[{key:"move",value:function(e,t){"string"==typeof e&&(e=e.split(" ")),this.cube.move(e,t),e=(0,u.transformNotations)(e,t);var r=!0,o=!1,t=void 0;try{for(var n,i=e[Symbol.iterator]();!(r=(n=i.next()).done);r=!0){var a=n.value;this.totalMoves.push(a)}}catch(e){o=!0,t=e}finally{try{!r&&i.return&&i.return()}finally{if(o)throw t}}}},{key:"afterEach",value:function(e){this._afterEachCallbacks.push(e)}},{key:"_triggerAfterEach",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this._afterEachCallbacks.forEach(function(e){return e.apply(void 0,t)})}},{key:"_solve",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.partition={};var t=(this.partition.cubies=e).corner,e=e.edge;return this.partition.caseNumber=this._getCaseNumber({corner:t,edge:e}),this._solveCase(this.partition.caseNumber,{corner:t,edge:e}),this.partition.moves=this.totalMoves,this.totalMoves=[],this._overrideAfterEach||this._triggerAfterEach(this.partition,this.phase),this.partition}},{key:"_solveCase",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=t.corner,t=t.edge;this["_solveCase"+e]({corner:r,edge:t})}}]),i);function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,i),this.cube="string"==typeof e?new n.RubiksCube(e):e,this.options=t,this.partition={},this.partitions=[],this.totalMoves=[],this._afterEachCallbacks=[]}function a(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}t.BaseSolver=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.algorithmShortener=void 0;var r=r(19),o=r&&r.__esModule?r:{default:r},n={F:"B",R:"L",U:"D"};t.algorithmShortener=function(e){return"string"==typeof e&&(e=e.split(" ")),(0,o.default)(e,{compare:function(e,t){return e[0]===t[0]},combine:function(e,t){t=(e.includes("2")?2:e.includes("prime")?-1:1)+(t.includes("2")?2:t.includes("prime")?-1:1);return 0===(t=3===(t=-2===(t=4===t?0:t)?2:t)?-1:t)?"":e[0]+(2===t?"2":-1===t?"prime":"")},cancel:function(e){return""===e},ignore:function(e,t){return n[e[0]]===t[0]||n[t[0]]===e[0]}}).join(" ")}},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Vector=void 0;var n=function(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),e},i=o(r(22)),a=o(r(7)),u=o(r(26)),s=o(r(27)),r=o(r(28)),c={x:u.default,y:s.default,z:r.default},n=(n(l,null,[{key:"FromString",value:function(e){return new l(e.split(" ").map(function(e){return parseInt(e)}))}},{key:"areEqual",value:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}},{key:"getAngle",value:function(e,t){var r=(0,i.default)(e,t),t=new l((0,a.default)([],e,t)).getMagnitude();return t?r*t:r}},{key:"getRotationFromNormals",value:function(e,t){var r=new l((0,a.default)([],e,t)).getAxis(),o=l.getAngle(e,t);return r||((t=["x","y","z"]).splice(t.indexOf(new l(e).getAxis()),1),r=t[0]),{axis:r,angle:o}}},{key:"reverseRotation",value:function(e){return e.angle*=-1,e}}]),n(l,[{key:"toArray",value:function(){return this.vector}},{key:"set",value:function(e){void 0!==e&&(this.vector=e.map(function(e){return Math.round(e)}))}},{key:"setX",value:function(e){this.vector[0]=e}},{key:"setY",value:function(e){this.vector[1]=e}},{key:"setZ",value:function(e){this.vector[2]=e}},{key:"getX",value:function(){return this.toArray()[0]}},{key:"getY",value:function(){return this.toArray()[1]}},{key:"getZ",value:function(){return this.toArray()[2]}},{key:"isAxis",value:function(){var e=0,t=!0,r=!1,o=void 0;try{for(var n,i=this.vector[Symbol.iterator]();!(t=(n=i.next()).done);t=!0)0===n.value&&(e+=1)}catch(e){r=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw o}}return 2===e}},{key:"getAxis",value:function(){if(this.isAxis())return 0!==this.vector[0]?"x":0!==this.vector[1]?"y":0!==this.vector[2]?"z":void 0}},{key:"getMagnitude",value:function(){if(this.isAxis())return this["get"+this.getAxis().toUpperCase()]()}},{key:"rotate",value:function(e,t){return e=e.toLowerCase(),this.set(c[e]([],this.vector,[0,0,0],t)),this}}]),l);function l(e){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,l),this.set(e)}function f(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}t.Vector=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.F2LCaseBaseSolver=void 0;var o=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e},o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r(12).F2LBaseSolver),o(n,[{key:"solve",value:function(e){var t=e.corner,e=e.edge;return this._solve({corner:t,edge:e})}}]),n);function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}function i(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}t.F2LCaseBaseSolver=o},function(e,t,r){"use strict";e.exports=function(){return/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]/g}},function(e,t,r){"use strict";e.exports=function(e,t,r){var o=t[0],n=t[1],i=t[2],a=r[0],t=r[1],r=r[2];return e[0]=n*r-i*t,e[1]=i*a-o*r,e[2]=o*t-n*a,e}},function(e,t,r){"use strict";function o(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===o||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function a(){m&&h&&(m=!1,h.length?v=h.concat(v):p=-1,v.length&&u())}function u(){if(!m){var e=i(a);m=!0;for(var t=v.length;t;){for(h=v,v=[];++p<t;)h&&h[p].run();p=-1,t=v.length}h=null,m=!1,function(t){if(f===clearTimeout)return clearTimeout(t);if((f===n||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var l,f,e=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:o}catch(e){l=o}try{f="function"==typeof clearTimeout?clearTimeout:n}catch(e){f=n}}();var h,v=[],m=!1,p=-1;e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];v.push(new s(e,t)),1!==v.length||m||i(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=c,e.addListener=c,e.once=c,e.off=c,e.removeListener=c,e.removeAllListeners=c,e.emit=c,e.prependListener=c,e.prependOnceListener=c,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cubie=void 0;var o=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e},l=r(4),v=r(10),o=(o(f,null,[{key:"FromFaces",value:function(e){var t=new l.Vector([0,0,0]),r={},o=!0,n=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(o=(a=u.next()).done);o=!0){var s,c=a.value;c&&(t["set"+(s=new v.Face(c)).vector.getAxis().toUpperCase()](s.vector.getMagnitude()),r[c.toLowerCase()]=s.toString()[0].toLowerCase())}}catch(e){n=!0,i=e}finally{try{!o&&u.return&&u.return()}finally{if(n)throw i}}return new f({position:t.toArray(),colorMap:r})}}]),o(f,[{key:"clone",value:function(){return new f({position:this.position(),colorMap:this.colorMap})}},{key:"position",value:function(e){if(void 0===e)return this.vector&&this.vector.toArray();this.vector=new l.Vector(e)}},{key:"getX",value:function(){return this.vector.getX()}},{key:"getY",value:function(){return this.vector.getY()}},{key:"getZ",value:function(){return this.vector.getZ()}},{key:"isCorner",value:function(){return 3===Object.keys(this.colorMap).length}},{key:"isEdge",value:function(){return 2===Object.keys(this.colorMap).length}},{key:"isMiddle",value:function(){return 1===Object.keys(this.colorMap).length}},{key:"colors",value:function(){var t=this;return Object.keys(this.colorMap).map(function(e){return t.colorMap[e]})}},{key:"hasColor",value:function(e){e=e.toLowerCase();var t=!0,r=!1,o=void 0;try{for(var n,i=Object.keys(this.colorMap)[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var a=n.value;if(this.colorMap[a]===e)return!0}}catch(e){r=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw o}}return!1}},{key:"hasFace",value:function(e){return e=e.toLowerCase(),Object.keys(this.colorMap).includes(e)}},{key:"colorFace",value:function(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),this.colorMap[e]=t,this}},{key:"getColorOfFace",value:function(e){return e=e.toLowerCase(),this.colorMap[e]}},{key:"getFaceOfColor",value:function(t){var r=this;return t=t.toLowerCase(),Object.keys(this.colorMap).find(function(e){return r.colorMap[e]===t})}},{key:"faces",value:function(){return Object.keys(this.colorMap)}},{key:"rotate",value:function(e,t){var r=this;this.vector.rotate(e,t);var o={},n=!0,i=!1,a=void 0;try{for(var u,s=Object.keys(this.colorMap)[Symbol.iterator]();!(n=(u=s.next()).done);n=!0){var c=u.value,l=this.colorMap[c],f=new v.Face(c).rotate(e,t).normal().join(" "),h=v.Face.FromNormal(f).toString().toLowerCase();o[h]=l}}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}this.colorMap={},Object.keys(o).forEach(function(e){return r.colorFace(e,o[e])})}}]),f);function f(e){var r=this,t=e.position,e=e.colorMap,o=void 0===e?{}:e;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,f),this.position(t),this.colorMap={},Object.keys(o).forEach(function(e){var t=o[e];r.colorFace(e,t)})}function n(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}t.Cubie=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Face=void 0;var o=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e},u=r(4),s={front:"0 0 1",right:"1 0 0",up:"0 1 0",down:"0 -1 0",left:"-1 0 0",back:"0 0 -1"},o=(o(n,null,[{key:"FromNormal",value:function(e){return"string"==typeof e&&(e=u.Vector.FromString(e).toArray()),new n(n.getFace(e))}},{key:"getNormal",value:function(e){return u.Vector.FromString(s[e]).toArray()}},{key:"getFace",value:function(e){"string"==typeof e&&(e=u.Vector.FromString(e).toArray());var t=!0,r=!1,o=void 0;try{for(var n,i=Object.keys(s)[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var a=n.value;if(e.join(" ")===s[a])return a}}catch(e){r=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw o}}}}]),o(n,[{key:"normal",value:function(){return this.vector.toArray()}},{key:"toString",value:function(){return n.getFace(this.normal())}},{key:"orientTo",value:function(e){"string"==typeof e&&(e=new n(e));var t=u.Vector.getRotationFromNormals(this.normal(),e.normal()),e=t.axis,t=t.angle;return this.vector.rotate(e,t),this}},{key:"rotate",value:function(e,t){return this.vector.rotate(e,t),this}}]),n);function n(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),"string"!=typeof e)throw new Error('"face" must be a string (received: '+e+")");e=e.toLowerCase(),this.vector=u.Vector.FromString(s[e])}function i(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}o.FRONT=new o("FRONT"),o.RIGHT=new o("RIGHT"),o.UP=new o("UP"),o.DOWN=new o("DOWN"),o.LEFT=new o("LEFT"),o.BACK=new o("BACK"),t.Face=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CrossSolver=void 0;function o(e){return a.RubiksCube.reverseMoves(e)}var n=function(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e},i=r(2),a=r(1),u=r(0),n=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,i.BaseSolver),n(s,[{key:"solve",value:function(){var e=this._getCrossEdges(),t=!0,r=!1,o=void 0;try{for(var n,i=e[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var a=n.value,u=this._solve({edge:a});this.partitions.push(u)}}catch(e){r=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw o}}return this.partitions}},{key:"isSolved",value:function(){var e=this._getCrossEdges(),t=!0,r=!1,o=void 0;try{for(var n,i=e[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var a=n.value;if(!this.isEdgeSolved(a))return!1}}catch(e){r=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw o}}return!0}},{key:"isEdgeSolved",value:function(e){var t=e.colors().find(function(e){return"u"!==e}),t=e.faces().find(function(e){return"up"!==e})[0]===t;return"u"===e.getColorOfFace("up")&&t}},{key:"_getCrossEdges",value:function(){return this.cube.edges().filter(function(e){return e.hasColor("u")})}},{key:"_getCaseNumber",value:function(e){var t=e.edge;if("u"===t.getColorOfFace("up"))return 1;if("u"===t.getColorOfFace("down"))return 2;if(t.faces().includes("up"))return 3;if(t.faces().includes("down"))return 4;e=t.getFaceOfColor("u"),t=t.getFaceOfColor(t.colors().find(function(e){return"u"!==e})),t=(0,u.getDirectionFromFaces)(e,t,{up:"up"});return"right"===t?5:"left"===t?6:void 0}},{key:"_solveCase1",value:function(e){var t=e.edge;this.isEdgeSolved(t)||(e=t.faces().find(function(e){return"up"!==e}),this.move(e+" "+e,{upperCase:!0}),this._solveCase2({edge:t}))}},{key:"_solveCase2",value:function(e){e=e.edge,e=this._case1And2Helper({edge:e},2);this.move(e,{upperCase:!0})}},{key:"_solveCase3",value:function(e){var t=e.edge,e=this._case3And4Helper({edge:t},3);this.move(e,{upperCase:!0}),this._solveCase5({edge:t})}},{key:"_solveCase4",value:function(e){var t=e.edge,e=(0,u.getRotationFromTo)("down",t.getFaceOfColor("u"),(0,u.getFaceOfMove)(t.getColorOfFace("down")));this.move(e,{upperCase:!0});e=o(t.getFaceOfColor("u"));this.move(e,{upperCase:!0}),this._solveCase5({edge:t})}},{key:"_solveCase5",value:function(e){e=e.edge,e=this._case5And6Helper({edge:e},5);this.move(e,{upperCase:!0})}},{key:"_solveCase6",value:function(e){e=e.edge,e=this._case5And6Helper({edge:e},6);this.move(e,{upperCase:!0})}},{key:"_case1And2Helper",value:function(e,t){var r=e.edge,o=1===t?"up":"down",e=r.faces().find(function(e){return e!==o}),r=(0,u.getFaceOfMove)(r.getColorOfFace(e)),e=(0,u.getRotationFromTo)(o,e,r);return 2===t&&(e+=" "+(r=(0,u.getMoveOfFace)(r))+" "+r),e}},{key:"_case3And4Helper",value:function(e,t){e=e.edge.faces().find(function(e){return!["up","down"].includes(e)});return e=4===t?o(e):e}},{key:"_case5And6Helper",value:function(e,t){var r=e.edge,e=r.colors().find(function(e){return"u"!==e}),r=r.getFaceOfColor(e),e=(0,u.getFaceOfMove)(e),e=(0,u.getRotationFromTo)("up",r,e),r=(0,u.getMoveOfFace)(r);return 6===t&&(r=o(r)),o(e)+" "+r+" "+e}},{key:"_getPartitionBefore",value:function(e){return{edge:e.edge.clone()}}},{key:"_getPartitionAfter",value:function(e){return{edge:e.edge}}}]),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o=s.__proto__||Object.getPrototypeOf(s)).call.apply(o,[this].concat(t)));return o.phase="cross",o}function c(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}t.CrossSolver=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.F2LBaseSolver=void 0;function i(e){return a.RubiksCube.reverseMoves(e)}var o=function(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e},n=r(2),a=r(1),s=r(0),o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,n.BaseSolver),o(u,[{key:"colorsMatch",value:function(e){var t=e.corner,e=e.edge.colors();return!(!t.colors().includes(e[0])||!t.colors().includes(e[1]))}},{key:"isPairSolved",value:function(e){var t=e.corner,r=e.edge;if(!this.isPairMatched({corner:t,edge:r}))return!1;if("up"!==t.getFaceOfColor("u"))return!1;var o=!0,n=!1,t=void 0;try{for(var i,a=r.colors()[Symbol.iterator]();!(o=(i=a.next()).done);o=!0){var u=i.value;if(r.getFaceOfColor(u)!==(0,s.getFaceOfMove)(u))return!1}}catch(e){n=!0,t=e}finally{try{!o&&a.return&&a.return()}finally{if(n)throw t}}return!0}},{key:"isPairMatched",value:function(e){var t=e.corner,r=e.edge;if(!this.colorsMatch({corner:t,edge:r}))return!1;var o=!0,n=!1,i=void 0;try{for(var a,u=r.colors()[Symbol.iterator]();!(o=(a=u.next()).done);o=!0){var s=a.value;if(t.getFaceOfColor(s)!==r.getFaceOfColor(s))return!1}}catch(e){n=!0,i=e}finally{try{!o&&u.return&&u.return()}finally{if(n)throw i}}return!0}},{key:"isPairSeparated",value:function(e){var t=e.corner,r=e.edge;if(!this.colorsMatch({corner:t,edge:r}))return!1;if(["up","down"].includes(t.getFaceOfColor("u")))return!1;if(!r.faces().includes("down"))return!1;e=t.colors().find(function(e){return"u"!==e&&"down"!==t.getFaceOfColor(e)});return"down"===r.getFaceOfColor(e)&&"back"===(0,s.getDirectionFromFaces)(t.getFaceOfColor(e),r.getFaceOfColor(t.getColorOfFace("down")),{up:"up"})}},{key:"solveMatchedPair",value:function(e){var t=e.corner,r=e.edge;if(!this.isPairMatched({corner:t,edge:r}))throw new Error("Pair is not matched");var o=r.colors().find(function(e){return"down"!==r.getFaceOfColor(e)}),n="left"===(0,s.getDirectionFromFaces)(r.getFaceOfColor(o),t.getFaceOfColor("u"),{up:"down"}),e=(0,s.getFaceOfMove)(o),t=t.getFaceOfColor(o),o=(0,s.getFaceFromDirection)(e,n?"left":"right",{up:"down"}),o=(0,s.getRotationFromTo)("down",t,o),e=n?e:i(e),e=[o,e,n?"DPrime":"D",i(e)].join(" ");return this.move(e,{upperCase:!0}),e}},{key:"solveSeparatedPair",value:function(e){var t=e.corner,r=e.edge;if(!this.isPairSeparated({corner:t,edge:r}))throw new Error("Pair is not separated");var o=r.colors().find(function(e){return"down"!==r.getFaceOfColor(e)}),e="LEFT"===(0,s.getDirectionFromFaces)(t.getFaceOfColor("u"),r.getFaceOfColor(o),{up:"down"}).toUpperCase(),t=t.getFaceOfColor("u"),o=(0,s.getFaceOfMove)(o),t=(0,s.getRotationFromTo)("down",t,o),o=(0,s.getMoveOfFace)(o),o=[t,o=e?i(o):o,e?"DPrime":"D",i(o)].join(" ");return this.move(o,{upperCase:!0}),o}},{key:"_getPartitionBefore",value:function(e){var t=e.corner,e=e.edge;return{corner:t.clone(),edge:e.clone()}}},{key:"_getPartitionAfter",value:function(e){return{corner:e.corner,edge:e.edge}}}]),u);function u(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o=u.__proto__||Object.getPrototypeOf(u)).call.apply(o,[this].concat(t)));return o.phase="f2l",o}function c(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}t.F2LBaseSolver=o},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.F2LSolver=void 0;var o=function(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),e},i=r(1),a=r(12),u=r(35),s=r(36),c=r(37),l=r(0),o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,a.F2LBaseSolver),o(f,[{key:"solve",value:function(){var r=this;return this.partitions=[],this.getAllPairs().forEach(function(e){var t=e.corner,e=e.edge,e=r._solve({corner:t,edge:e});r.partitions.push(e)}),this.partitions}},{key:"isSolved",value:function(){var e=this.getAllPairs(),t=!0,r=!1,o=void 0;try{for(var n,i=e[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var a=n.value;if(!this.isPairSolved(a))return!1}}catch(e){r=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw o}}return!0}},{key:"getAllPairs",value:function(){var t=this.cube.corners().filter(function(e){return e.hasColor("u")}),e=this.cube.edges().filter(function(e){return!e.hasColor("u")&&!e.hasColor("d")}),o=[],r=!0,n=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)!function(){var r=a.value,e=t.find(function(e){var t=r.colors();return e.hasColor(t[0])&&e.hasColor(t[1])});o.push({edge:r,corner:e})}()}catch(t){n=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(n)throw i}}return o}},{key:"_getCaseNumber",value:function(e){var t=e.corner,e=e.edge;if(t.faces().includes("down")){if(e.faces().includes("down"))return 1;if(!e.faces().includes("down")&&!e.faces().includes("up"))return 2}if(t.faces().includes("up")){if(e.faces().includes("down"))return 3;if(!e.faces().includes("down")&&!e.faces().includes("up"))return 4}throw new Error("Could not find a top level F2L case")}},{key:"_solveCase1",value:function(e){var t=e.corner,e=e.edge,e=new u.Case1Solver(this.cube,this.subCaseOptions).solve({corner:t,edge:e});this.totalMoves=e.moves,this.partition.caseNumber=[this.partition.caseNumber,e.caseNumber]}},{key:"_solveCase2",value:function(e){var t=e.corner,e=e.edge,e=new s.Case2Solver(this.cube,this.subCaseOptions).solve({corner:t,edge:e});this.totalMoves=e.moves,this.partition.caseNumber=[this.partition.caseNumber,e.caseNumber]}},{key:"_solveCase3",value:function(e){var t=e.corner,e=e.edge,e=new c.Case3Solver(this.cube,this.subCaseOptions).solve({corner:t,edge:e});this.totalMoves=e.moves,this.partition.caseNumber=[this.partition.caseNumber,e.caseNumber]}},{key:"_solveCase4",value:function(e){var t,r=e.corner,o=e.edge;this.isPairSolved({corner:r,edge:o})||(t=void 0,t=new(r.faces().includes(o.faces()[0])&&r.faces().includes(o.faces()[1])?u.Case1Solver:s.Case2Solver)(this.cube,this.subCaseOptions),e=r.faces().filter(function(e){return"up"!==e}),e="right"===(0,l.getDirectionFromFaces)(e[0],e[1],{up:"down"})?e[1]:e[0],this.move(e+" D "+i.RubiksCube.reverseMoves(e),{upperCase:!0}),o=t.solve({corner:r,edge:o}),this.partition.caseNumber=[this.partition.caseNumber,o.caseNumber],this.totalMoves=[].concat(n(this.totalMoves),n(o.moves)))}}]),f);function f(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o=f.__proto__||Object.getPrototypeOf(f)).call.apply(o,[this].concat(t)));return o.subCaseOptions=Object.assign(o.options,{_overrideAfterEach:!0}),o}function h(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}t.F2LSolver=o},function(e,t,r){"use strict";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.OLLSolver=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],o=!0,n=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(o=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){n=!0,i=e}finally{try{!o&&u.return&&u.return()}finally{if(n)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e},a=(r(1),r(2)),u=r(0),s="00000000",o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,a.BaseSolver),o(c,[{key:"isSolved",value:function(){return this.getOllString()===s}},{key:"solve",value:function(){return this._solve()}},{key:"_getCaseNumber",value:function(){return this.getOllString()}},{key:"_solveCase",value:function(e){var t=this.findPattern(e),r=this.getAlgorithm(t),t=this._getFrontFace(e,t);this.move(r,{orientation:{up:"down",front:t}})}},{key:"getOllString",value:function(){var t=this,r=[];return this._getOllCubies().forEach(function(e){e=t._getCubieOrientation(e);r.push(e)}),r.join("")}},{key:"findPattern",value:function(e){void 0===e&&(e=this.getOllString());for(var t=0;t<4;t++){if("string"==typeof this.algorithms[e])return e;e=this._rotateOllStringLeft(e)}throw new Error('No pattern found for oll string "'+e+'"')}},{key:"getAlgorithm",value:function(e){if(void 0===e&&(e=this.getPattern(e)),void 0===this.algorithms[e])throw new Error('No algorithm found for pattern "'+e+'"');return this.algorithms[e]}},{key:"_getOllCubies",value:function(){var t=this;return[["front","down","right"],["front","down"],["front","down","left"],["left","down"],["left","down","back"],["back","down"],["back","down","right"],["right","down"]].map(function(e){return t.cube.getCubie(e)})}},{key:"_getCubieOrientation",value:function(e){if("d"===e.getColorOfFace("down"))return 0;if(e.isEdge())return 1;var t=e.faces().filter(function(e){return"down"!==e}),r=n(t,2),o=r[0],t=r[1],r=(0,u.getDirectionFromFaces)(o,t,{up:"down"});return"d"===e.getColorOfFace("right"===r?t:o)?1:2}},{key:"_getFrontFace",value:function(e,t){for(var r=["front","left","back","right"],o=0;o<4;o++){if(e===t)return r[o];e=this._rotateOllStringLeft(e)}throw new Error('OLL string "'+e+'" does not resolve to the pattern "'+t+'"')}},{key:"_rotateOllStringLeft",value:function(e){return e.slice(2)+e.slice(0,2)}},{key:"_getPartitionBefore",value:function(){return this.getOllString()}},{key:"_getPartitionAfter",value:function(){return null}}]),c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=c.__proto__||Object.getPrototypeOf(c)).call.apply(e,[this].concat(r)));return n.phase="oll",n.algorithms=(i(e={},s,""),i(e,"21000110","F R U RPrime UPrime FPrime"),i(e,"21211010","F R U RPrime UPrime FPrime F R U RPrime UPrime FPrime"),i(e,"10201020","R U2 RPrime UPrime R U RPrime UPrime R UPrime RPrime"),i(e,"01112000","F U R UPrime RPrime FPrime"),i(e,"11102120","F U R UPrime RPrime U R UPrime RPrime FPrime"),i(e,"11210000","RPrime UPrime FPrime U F R"),i(e,"11102021","FPrime LPrime UPrime L U LPrime UPrime L U F"),i(e,"10011110","R L2 BPrime L BPrime LPrime B2 L BPrime L RPrime"),i(e,"00202121","LPrime R2 B RPrime B R B2 RPrime B RPrime L"),i(e,"01111111","F U R UPrime RPrime FPrime L F U FPrime UPrime LPrime"),i(e,"21212101","F U R UPrime RPrime FPrime R B U BPrime UPrime RPrime"),i(e,"21211111","F R U RPrime UPrime FPrime B U L UPrime LPrime BPrime"),i(e,"20201010","R U2 R2 UPrime R2 UPrime R2 U2 R"),i(e,"01101110","R B RPrime L U LPrime UPrime R BPrime RPrime"),i(e,"21002120","LPrime BPrime L RPrime UPrime R U LPrime B L"),i(e,"21001100","RPrime F R U RPrime UPrime FPrime U R"),i(e,"01000100","R U RPrime UPrime MPrime U R UPrime rPrime"),i(e,"01010101","M U R U RPrime UPrime M2 U R UPrime rPrime"),i(e,"10211021","F R U RPrime UPrime R U RPrime UPrime FPrime B U L UPrime LPrime BPrime"),i(e,"11000120","R U RPrime UPrime RPrime F R FPrime"),i(e,"10000020","LPrime BPrime R B L BPrime RPrime B"),i(e,"20001000","B LPrime BPrime R B L BPrime RPrime"),i(e,"00112001","RPrime UPrime RPrime F R FPrime U R"),i(e,"21112111","R U2 RPrime RPrime F R FPrime U2 RPrime F R FPrime"),i(e,"10002101","R U2 RPrime RPrime F R FPrime R U2 RPrime"),i(e,"21110101","M U R U RPrime UPrime MPrime RPrime F R FPrime"),i(e,"11212010","F LPrime U2 L U2 L F2 LPrime F"),i(e,"01110020","R U RPrime U R UPrime RPrime UPrime RPrime F R FPrime"),i(e,"10012100","RPrime UPrime R UPrime RPrime U R U R BPrime RPrime B"),i(e,"10112021","RPrime UPrime R UPrime RPrime U FPrime U F R"),i(e,"01110121","F U R UPrime RPrime FPrime F U FPrime UPrime FPrime L F LPrime"),i(e,"01112101","F U R UPrime RPrime FPrime B U BPrime UPrime SPrime U B UPrime bPrime"),i(e,"21212000","lPrime U2 L U LPrime U l"),i(e,"01212020","r U RPrime U R U2 rPrime"),i(e,"00202020","R U RPrime U R U2 RPrime"),i(e,"10101000","RPrime UPrime R URprime RPrime U2 R"),i(e,"01001021","RPrime U R U2 RPrime UPrime FPrime U F U R"),i(e,"10200101","R UPrime RPrime U2 R U B UPrime BPrime UPrime RPrime"),i(e,"21102011","r U RPrime U R UPrime RPrime U R U2 rPrime"),i(e,"21112010","lPrime UPrime L UPrime LPrime U L UPrime LPrime U2 l"),i(e,"11100011","r U2 RPrime UPrime R UPrime rPrime"),i(e,"11012000","F R UPrime RPrime UPrime R U RPrime FPrime"),i(e,"11001011","lPrime UPrime L UPrime LPrime U2 l"),i(e,"01010000","r U RPrime UPrime M U R UPrime RPrime"),i(e,"01002110","R U RPrime UPrime BPrime RPrime F R FPrime B"),i(e,"01202120","L FPrime LPrime UPrime L F LPrime FPrime U F"),i(e,"11001110","RPrime F R U RPrime FPrime R F UPrime FPrime"),i(e,"10200000","R2 D RPrime U2 R DPrime RPrime U2 RPrime"),i(e,"20112011","RPrime U2 R2 U RPrime U R U2 BPrime RPrime B"),i(e,"10000121","R U BPrime UPrime RPrime U R B RPrime"),i(e,"11000021","RPrime UPrime F U R UPrime RPrime FPrime R"),i(e,"01100120","L FPrime LPrime UPrime L U F UPrime LPrime"),i(e,"11112020","RPrime F R2 FPrime U2 FPrime U2 F RPrime"),i(e,"20110100","BPrime RPrime B LPrime BPrime R R BPrime RPrime B2 L"),i(e,"20100101","B L BPrime R B L2 B L B2 RPrime"),i(e,"01101011","FPrime UPrime F L FPrime LPrime U L F LPrime"),i(e,"21012020","F U FPrime RPrime F R UPrime RPrime FPrime R"),e),n}function l(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}t.OLLSolver=o},function(e,t,r){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.PLLSolver=void 0;var n=function(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e},a=r(2),u=r(0),n=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,a.BaseSolver),n(s,[{key:"solve",value:function(){return this._solve()}},{key:"_getCaseNumber",value:function(){return this.getPllString()}},{key:"_solveCase",value:function(e){var t=this.findPattern(e),r=this.getAlgorithm(t),t=this._getFrontFace(e,t);this.move(r,{orientation:{up:"down",front:t}});t=this.cube.getCubie(["down","front"]),t=(0,u.getFaceOfMove)(t.getColorOfFace("front")),t=(0,u.getRotationFromTo)("down","front",t);this.move(t)}},{key:"isSolved",value:function(){return this.cube.isSolved()}},{key:"getPllString",value:function(){for(var e=[],t=this._getPllCubies(),r=["front","left","back","right"],o=0;o<t.length;o++){var n=t[o],i=t[o+1],a=r[~~(o/2)],n=n.getColorOfFace(a),a=(i=i||t[0]).getColorOfFace(a),n=(0,u.getFaceOfMove)(n),a=(0,u.getFaceOfMove)(a),a=(0,u.getDirectionFromFaces)(n,a,{up:"down"});"back"===(a="left"===(a="right"===(a="front"===a?0:a)?1:a)?-1:a)&&(a=2),e.push(a)}return e.join(" ")}},{key:"findPattern",value:function(e){var t=e;void 0===e&&(e=this.getPllString());for(var r=0;r<4;r++){if("string"==typeof this.algorithms[e])return e;e=this._rotatePllStringLeft(e)}throw new Error('No pattern found for pll string "'+t+'"')}},{key:"getAlgorithm",value:function(e){if(void 0===e&&(e=this.findPattern(e)),void 0===this.algorithms[e])throw new Error('No algorithm found for pattern "'+e+'"');return this.algorithms[e]}},{key:"_getPllCubies",value:function(){var t=this;return[["front","down","right"],["front","down"],["front","down","left"],["left","down"],["left","down","back"],["back","down"],["back","down","right"],["right","down"]].map(function(e){return t.cube.getCubie(e)})}},{key:"_getCubiePermutation",value:function(e){var t=e.faces().find(function(e){return"down"!==e}),e=(0,u.getFaceOfMove)(e.getColorOfFace(t)),e=(0,u.getRotationFromTo)("down",t,e);return""===(e=e.toLowerCase())?0:e.includes("prime")?1:1<e.split(" ").length?2:-1}},{key:"_rotatePllStringLeft",value:function(e){e=e.split(" ").map(function(e){return parseInt(e)});return[].concat(o(e.slice(2)),o(e.slice(0,2))).join(" ")}},{key:"_getFrontFace",value:function(e,t){for(var r=["front","left","back","right"],o=0;o<4;o++){if(e===t)return r[o];e=this._rotatePllStringLeft(e)}throw new Error('OLL string "'+e+'" does not resolve to the pattern "'+t+'"')}}]),s);function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=s.__proto__||Object.getPrototypeOf(s)).call.apply(e,[this].concat(r)));return n.phase="pll",n.algorithms=(i(e={},"0 0 0 0 0 0 0 0",""),i(e,"2 -1 1 -1 1 0 0 2","R2 F2 RPrime BPrime R F2 RPrime B RPrime"),i(e,"-1 1 -1 2 2 0 0 1","R BPrime R F2 RPrime B R F2 R2"),i(e,"1 -1 2 2 0 0 1 -1","R UPrime R U R U R UPrime RPrime UPrime R2"),i(e,"-1 1 -1 1 0 0 2 2","R2 U R U RPrime UPrime RPrime UPrime RPrime U RPrime"),i(e,"2 2 2 2 2 2 2 2","M M U M M U2 M M U M M"),i(e,"0 1 1 1 1 0 2 2","R U RPrime UPrime RPrime F R2 UPrime RPrime UPrime R U RPrime FPrime"),i(e,"1 0 2 0 1 0 0 0","R U2 RPrime UPrime R U2 LPrime U RPrime UPrime L"),i(e,"0 2 2 0 1 1 1 1","F R UPrime RPrime UPrime R U RPrime FPrime R U RPrime UPrime RPrime F R FPrime"),i(e,"1 -1 -1 2 -1 -1 1 0","RPrime U2 R U2 RPrime F R U RPrime UPrime RPrime FPrime R2"),i(e,"0 1 -1 -1 2 -1 -1 1","R UPrime RPrime UPrime R U R D RPrime UPrime R DPrime RPrime U2 RPrime"),i(e,"0 2 -1 -1 -1 -1 2 0","RPrime U RPrime UPrime BPrime D BPrime DPrime B2 RPrime BPrime R B R"),i(e,"2 -1 -1 -1 -1 2 0 0","RPrime UPrime FPrime R U RPrime UPrime RPrime F R2 UPrime RPrime UPrime R U RPrime U R"),i(e,"-1 2 2 2 -1 2 0 2","L U LPrime B2 uPrime B UPrime BPrime U BPrime u B2"),i(e,"2 -1 2 0 2 -1 2 2","RPrime UPrime R B2 u BPrime U B UPrime B uPrime B2"),i(e,"2 -1 1 1 0 1 1 -1","R2 uPrime R UPrime R U RPrime u R2 B UPrime BPrime"),i(e,"1 0 1 1 -1 2 -1 1","R2 u RPrime U RPrime UPrime R uPrime R2 FPrime U F"),i(e,"1 -1 -1 1 1 -1 -1 1","U RPrime UPrime R UPrime R U R UPrime RPrime U R U R2 UPrime RPrime"),i(e,"0 1 0 0 0 1 0 2","LPrime U2 L U LPrime U2 R UPrime L U RPrime"),i(e,"1 1 -1 -1 1 1 -1 -1","R BPrime RPrime F R B RPrime FPrime R B RPrime F R BPrime RPrime FPrime"),i(e,"2 0 2 0 2 0 2 0","R U RPrime U R U RPrime FPrime R U RPrime UPrime RPrime F R2 UPrime RPrime U2 R UPrime RPrime"),i(e,"0 2 0 2 0 2 0 2","RPrime U R UPrime RPrime FPrime UPrime F R U RPrime F RPrime FPrime R UPrime R"),e),n}function c(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}t.PLLSolver=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.algorithmShortener=t.PLLSolver=t.OLLSolver=t.F2LSolver=t.CrossSolver=t.RubiksCube=t.Cubie=t.Solver=void 0;var o=r(9);Object.defineProperty(t,"Cubie",{enumerable:!0,get:function(){return o.Cubie}});var n=r(1);Object.defineProperty(t,"RubiksCube",{enumerable:!0,get:function(){return n.RubiksCube}});var i=r(11);Object.defineProperty(t,"CrossSolver",{enumerable:!0,get:function(){return i.CrossSolver}});var a=r(13);Object.defineProperty(t,"F2LSolver",{enumerable:!0,get:function(){return a.F2LSolver}});var u=r(14);Object.defineProperty(t,"OLLSolver",{enumerable:!0,get:function(){return u.OLLSolver}});var s=r(15);Object.defineProperty(t,"PLLSolver",{enumerable:!0,get:function(){return s.PLLSolver}});var c=r(3);Object.defineProperty(t,"algorithmShortener",{enumerable:!0,get:function(){return c.algorithmShortener}});var l=r(33);t.Solver=l.Solver,t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=new l.Solver(e,t);return e.solve(),t.partitioned?e.getPartitions():(0,c.algorithmShortener)(e.getMoves())}},function(e,t,r){"use strict";!function(e){Object.defineProperty(e,"exports",{enumerable:!0,get:function(){var o={modifiers:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},colors:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39]},bgColors:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49]}};return o.colors.grey=o.colors.gray,Object.keys(o).forEach(function(e){var r=o[e];Object.keys(r).forEach(function(e){var t=r[e];o[e]=r[e]={open:"["+t[0]+"m",close:"["+t[1]+"m"}}),Object.defineProperty(o,e,{value:r,enumerable:!1})}),o}})}.call(t,r(32)(e))},function(e,t,r){"use strict";function a(e){o&&e&&e()}var u=void 0,o=void 0,n={cancel:function(){return!1},ignore:function(){return!1}},i=(function(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e}(s,[{key:"run",value:function(){var t=this;if(this.input.length<=1)return this.input;this.temp=[this.input.shift()];for(var r=void 0,o=void 0,e=void 0;0<this.temp.length;){a(function(){console.log(u.bold("========= START =========")),t._logInfo(),console.log()});var n=void 0,i=void 0;if(1===this.temp.length){for(n=0,i=this.input[n];n<this.input.length&&this.options.ignore(this.temp[0],i);)i=this.input[++n];n<this.input.length&&this.temp.push(i)}if(a(function(){return e=t.temp.slice()}),0===this.temp.length){a(function(){console.log(u.green("breaking")),console.log(u.bold("========= END =========")),console.log()});break}1!==this.temp.length?(this.options.compare(this.temp[0],this.temp[1])?function(){void 0!==n&&t.input.splice(n,1);var e=t.options.combine(t.temp[0],t.temp[1]);a(function(){r="Combining:",o=e}),t.temp=t.options.cancel(e)?[]:[e],t.populateTempBackward(),0===t.temp.length&&t.populateTempForward()}():(this.output.push(this.temp.shift()),void 0!==n&&(0<n?this.temp=this.input.splice(0,1):this.input.splice(n,1)),a(function(){return r="Skipping:"})),a(function(){console.log(u.green(r),e),console.log(u.green("value:"),o),console.log(),t._logInfo(),console.log(u.bold("========= END =========")),console.log(),e=o=r=null})):(this.output.push(this.temp.pop()),this.populateTempForward(),a(function(){console.log(u.green("continuing")),t._logInfo(),console.log(u.bold("========= END =========")),console.log()}))}return a(function(){console.log(u.bold.green("========= FINAL =========")),t._logInfo(),console.log(u.bold.green("========= FINAL =========")),console.log()}),this.output}},{key:"populateTempBackward",value:function(){0<this.output.length&&this.temp.unshift(this.output.pop())}},{key:"populateTempForward",value:function(){0<this.input.length&&this.temp.push(this.input.shift())}},{key:"_logInfo",value:function(){console.log(u.bold("output"),this.output),console.log(u.bold("temp"),this.temp),console.log(u.bold("input"),this.input)}}]),s);function s(e,t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,s),this.options=Object.assign({},n,t),this.options.DEBUG&&(u=r(20),o=t.DEBUG),this.input=e.slice(),this.output=[]}function c(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=i},function(e,t,r){"use strict";var o=r(18);e.exports=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!e)throw new Error("Why are you even importing this.");if(!t.compare)throw new Error("options.compare callback must be present");if(!t.combine)throw new Error("options.combine callback must be present")}(e,t),new o(e,t).run()}},function(v,e,m){"use strict";!function(e){function t(e){this.enabled=e&&void 0!==e.enabled?e.enabled:a}function r(e){function t(){return function(){var e=arguments,t=e.length,r=0!==t&&String(arguments[0]);if(1<t)for(var o=1;o<t;o++)r+=" "+e[o];if(!this.enabled||!r)return r;var n=this._styles,i=n.length,a=s.dim.open;for(!c||-1===n.indexOf("gray")&&-1===n.indexOf("grey")||(s.dim.open="");i--;){var u=s[n[i]];r=u.open+r.replace(u.closeRe,u.open)+u.close}return s.dim.open=a,r}.apply(t,arguments)}return t._styles=e,t.enabled=this.enabled,t.__proto__=h,t}var o=m(21),s=m(17),n=m(30),i=m(29),a=m(31),u=Object.defineProperties,c="win32"===e.platform&&!/^xterm/i.test(e.env.TERM);c&&(s.blue.open="[94m");var l,f,e=(l={},Object.keys(s).forEach(function(e){s[e].closeRe=new RegExp(o(s[e].close),"g"),l[e]={get:function(){return r.call(this,this._styles.concat(e))}}}),l),h=u(function(){},e);u(t.prototype,(f={},Object.keys(e).forEach(function(e){f[e]={get:function(){return r.call(this,[e])}}}),f)),v.exports=new t,v.exports.styles=s,v.exports.hasColor=i,v.exports.stripColor=n,v.exports.supportsColor=a}.call(e,m(8))},function(e,t,r){"use strict";var o=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(o,"\\$&")}},function(e,t,r){"use strict";e.exports=function(e,t){return e=o(e[0],e[1],e[2]),t=o(t[0],t[1],t[2]),n(e,e),n(t,t),1<(t=i(e,t))?0:Math.acos(t)};var o=r(24),n=r(25),i=r(23)},function(e,t,r){"use strict";e.exports=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}},function(e,t,r){"use strict";e.exports=function(e,t,r){var o=new Float32Array(3);return o[0]=e,o[1]=t,o[2]=r,o}},function(e,t,r){"use strict";e.exports=function(e,t){var r=t[0],o=t[1],n=t[2];return 0<(n=r*r+o*o+n*n)&&(n=1/Math.sqrt(n),e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n),e}},function(e,t,r){"use strict";e.exports=function(e,t,r,o){var n=r[1],i=r[2],a=t[1]-n,u=t[2]-i,r=Math.sin(o),o=Math.cos(o);return e[0]=t[0],e[1]=n+a*o-u*r,e[2]=i+a*r+u*o,e}},function(e,t,r){"use strict";e.exports=function(e,t,r,o){var n=r[0],i=r[2],a=t[0]-n,u=t[2]-i,r=Math.sin(o),o=Math.cos(o);return e[0]=n+u*r+a*o,e[1]=t[1],e[2]=i+u*o-a*r,e}},function(e,t,r){"use strict";e.exports=function(e,t,r,o){var n=r[0],i=r[1],a=t[0]-n,u=t[1]-i,r=Math.sin(o),o=Math.cos(o);return e[0]=n+a*o-u*r,e[1]=i+a*r+u*o,e[2]=t[2],e}},function(e,t,r){"use strict";r=r(6),r=new RegExp(r().source);e.exports=r.test.bind(r)},function(e,t,r){"use strict";var o=r(6)();e.exports=function(e){return"string"==typeof e?e.replace(o,""):e}},function(n,e,t){"use strict";!function(e){function t(e){return-1!==(e=r.indexOf(e="--"+e))&&(-1===o||e<o)}var r=e.argv,o=r.indexOf("--");n.exports="FORCE_COLOR"in e.env||!(t("no-color")||t("no-colors")||t("color=false"))&&(!!(t("color")||t("colors")||t("color=true")||t("color=always"))||!(e.stdout&&!e.stdout.isTTY)&&("win32"===e.platform||"COLORTERM"in e.env||"dumb"!==e.env.TERM&&!!/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(e.env.TERM)))}.call(e,t(8))},function(e,t,r){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Solver=void 0;var o=function(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),e},n=r(1),i=r(11),a=r(13),u=r(14),s=r(15),c=r(0),l=r(3),o=(o(f,[{key:"afterEach",value:function(e,t){if("function"==typeof e?(t=e,e="all"):"string"==typeof e&&(e="all"===e?this.phases.slice():[e]),"function"!=typeof t)throw new Error('"afterEach" callback is not a function.');var r=!0,o=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var u=i.value;if(!this.phases.includes(u))throw new Error('Phase "'+u+'" isn\'t recognized. Please specify "cross", "f2l", "oll", "pll", or "all".')}}catch(e){o=!0,n=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw n}}var s=!0,o=!1,n=void 0;try{for(var c,l=e[Symbol.iterator]();!(s=(c=l.next()).done);s=!0)this[c.value+"Solver"].afterEach(t)}catch(e){o=!0,n=e}finally{try{!s&&l.return&&l.return()}finally{if(o)throw n}}}},{key:"solve",value:function(){this.currentPhase="cross",this.currentSolver=this.crossSolver,this.crossSolver.solve(),this.currentPhase="f2l",this.currentSolver=this.f2lSolver,this.f2lSolver.solve(),this.currentPhase="oll",this.currentSolver=this.ollSolver,this.ollSolver.solve(),this.currentPhase="pll",this.currentSolver=this.pllSolver,this.pllSolver.solve()}},{key:"getMoves",value:function(){var t=this,r=[];return Object.keys(this.progress).forEach(function(e){t.progress[e].forEach(function(e){return r.push.apply(r,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e.moves))})}),(r=(0,c.normalizeNotations)(r)).join(" ")}},{key:"getPartitions",value:function(){var o=this,n={};return Object.keys(this.progress).forEach(function(e){var t,r=o.progress[e];1===r.length?n[e]=(0,l.algorithmShortener)(r[0].moves):(t=[],o.progress[e].forEach(function(e){t.push((0,l.algorithmShortener)(e.moves))}),n[e]=t)}),n}},{key:"isCrossEdgeSolved",value:function(e){return this.crossSolver.isEdgeSolved(e)}},{key:"isF2LPairSolved",value:function(e){var t=e.corner,e=e.edge;return this.f2lSolver.isPairSolved({corner:t,edge:e})}},{key:"isOLLSolved",value:function(){return this.ollSolver.isSolved()}},{key:"isPLLSolved",value:function(){return this.pllSolver.isSolved()}},{key:"_updateProgress",value:function(e,t){this.progress[t].push(e)}}]),f);function f(e,t){var r=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),e instanceof n.RubiksCube)this.cube=e;else{if("string"!=typeof e)throw new Error('"cubeState" is not a valid cubeState. Please provide a list of scramble moves or a string representing a cube state');1<e.split(" ").length||e.length<=6?(this.cube=n.RubiksCube.Solved(),this.cube.move(e)):this.cube=new n.RubiksCube(e)}this.options=t,this.phases=["cross","f2l","oll","pll"],this.progress={},this.phases.forEach(function(e){return r.progress[e]=[]});this.currentPhase=null,this.currentSolver=null,this.crossSolver=new i.CrossSolver(this.cube,this.options),this.f2lSolver=new a.F2LSolver(this.cube,this.options),this.ollSolver=new u.OLLSolver(this.cube,this.options),this.pllSolver=new s.PLLSolver(this.cube,this.options),this.afterEach("all",function(e,t){r._updateProgress(e,t)})}function h(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}t.Solver=o},function(e,t,r){"use strict";var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16)),r=o.default;delete o.default,Object.assign(r,o),e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Case1Solver=void 0;function a(e){return n.RubiksCube.reverseMoves(e)}var o=function(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e},n=r(1),i=r(5),u=r(0),o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,i.F2LCaseBaseSolver),o(s,[{key:"_getCaseNumber",value:function(e){var t=e.corner,r=e.edge;if(this.isPairMatched({corner:t,edge:r}))return 1;if(this.isPairSeparated({corner:t,edge:r}))return 2;var o=void 0;r.faces().forEach(function(e){t.faces().includes(e)&&"down"!==e&&(o=e)});var n=t.colors().find(function(e){return"u"!==e&&e!==t.getColorOfFace("down")}),e=r.colors().find(function(e){return"down"!==r.getFaceOfColor(e)});return"down"===t.getFaceOfColor("u")?o?t.getColorOfFace(o)===r.getColorOfFace(o)?3:4:5:n===e?o?6:7:o?o===t.getFaceOfColor("u")?8:9:10}},{key:"_solveCase1",value:function(e){var t=e.corner,e=e.edge;return this.solveMatchedPair({corner:t,edge:e})}},{key:"_solveCase2",value:function(e){var t=e.corner,e=e.edge;return this.solveSeparatedPair({corner:t,edge:e})}},{key:"_solveCase3",value:function(e){var t=e.corner,r=e.edge,o=r.faces().find(function(e){return"down"!==e}),e=(0,u.getFaceOfMove)(r.getColorOfFace("down")),e=(0,u.getFaceFromDirection)(e,"back",{up:"down"}),t=t.getFaceOfColor(r.getColorOfFace("down")),t="left"===(0,u.getFaceFromDirection)(o,t,{up:"down"}),e=(0,u.getRotationFromTo)("down",o,e),r=(0,u.getFaceOfMove)(r.getColorOfFace(o)),o=t?"D":"DPrime",t=e+" "+(r=t?r:a(r))+" "+r+" D D ";t+=r+" "+o+" "+a(r)+" "+o+" "+r+" "+r,this.move(t,{upperCase:!0})}},{key:"_solveCase4",value:function(e){var t=e.corner,r=e.edge,o=r.faces().find(function(e){return"down"!==e}),n=(0,u.getFaceOfMove)(r.getColorOfFace(o)),e=t.faces().find(function(e){return!r.faces().includes(e)}),e="left"===(0,u.getFaceFromDirection)(e,o,{up:"down"}),o=(0,u.getRotationFromTo)("down",o,n),n=(0,u.getMoveOfFace)(n),n=e?a(n):n;this.move(o+" "+n+" D D "+a(n),{upperCase:!0}),this.solveSeparatedPair({corner:t,edge:r})}},{key:"_solveCase5",value:function(e){var t=e.corner,r=e.edge,o=r.colors().find(function(e){return"down"!==r.getFaceOfColor(e)}),n=r.colors().find(function(e){return"down"===r.getFaceOfColor(e)}),i="right"===(0,u.getFaceFromDirection)((0,u.getFaceOfMove)(o),(0,u.getFaceOfMove)(n),{up:"down"}),e=r.getFaceOfColor(o),n=(0,u.getFaceOfMove)(o),e=(0,u.getRotationFromTo)("down",e,n);this.move(e,{upperCase:!0});o=t.getFaceOfColor(o),o=(0,u.getRotationFromTo)("down",o,n),n=i?a(n):n;this.move(n+" "+o+" "+a(n),{upperCase:!0}),this.solveMatchedPair({corner:t,edge:r})}},{key:"_solveCase6",value:function(e){var t=e.corner,r=e.edge,o=r.colors().find(function(e){return"down"!==r.getFaceOfColor(e)}),n=r.getFaceOfColor(o),e=(0,u.getFaceOfMove)(r.getColorOfFace("down")),o="left"===(0,u.getDirectionFromFaces)(n,t.getFaceOfColor(o),{up:"down"}),n=(0,u.getRotationFromTo)("down",n,e),e=o?e:a(e);this.move(n+" "+e+" "+(o?"DPrime":"D")+" "+a(e),{upperCase:!0}),this.solveSeparatedPair({corner:t,edge:r})}},{key:"_solveCase7",value:function(e){var t=e.corner,r=e.edge,o=r.colors().find(function(e){return"down"!==r.getFaceOfColor(e)}),n=t.getFaceOfColor("u"),i=(0,u.getFaceOfMove)(o),e="left"===(0,u.getDirectionFromFaces)(t.getFaceOfColor(o),t.getFaceOfColor("u"),{up:"down"}),i=(0,u.getRotationFromTo)("down",n,i);this.move(i,{upperCase:!0});i=r.getFaceOfColor(o),o=t.getFaceOfColor(o),e=e?t.getFaceOfColor("u"):a(t.getFaceOfColor("u")),o=(0,u.getRotationFromTo)("down",i,o);this.move(e+" "+o+" "+a(e),{upperCase:!0}),this.solveMatchedPair({corner:t,edge:r})}},{key:"_solveCase8",value:function(e){var t=e.corner,r=e.edge,o=r.colors().find(function(e){return"down"!==r.getFaceOfColor(e)}),n=r.colors().find(function(e){return"down"===r.getFaceOfColor(e)}),e=t.getFaceOfColor(n),n=(0,u.getFaceOfMove)(o),o="left"===(0,u.getDirectionFromFaces)(e,t.getFaceOfColor("u"),{up:"down"}),e=(0,u.getRotationFromTo)("down",e,n),n=o?a(n):n;this.move(e+" "+n+" "+(o?"D":"DPrime")+" "+a(n),{upperCase:!0}),this.solveSeparatedPair({corner:t,edge:r})}},{key:"_solveCase9",value:function(e){var t=e.corner,r=e.edge,o=r.colors().find(function(e){return"down"===r.getFaceOfColor(e)}),n=t.getFaceOfColor("u"),e=(0,u.getFaceOfMove)(o),o="left"===(0,u.getDirectionFromFaces)(t.getFaceOfColor(o),n,{up:"down"}),n=(0,u.getRotationFromTo)("down",n,e),e=o?e:a(e);this.move(n+" "+e+" D D "+a(e),{upperCase:!0}),this.solveSeparatedPair({corner:t,edge:r})}},{key:"_solveCase10",value:function(e){var t=e.corner,r=e.edge,o=r.colors().find(function(e){return"down"!==r.getFaceOfColor(e)}),n=r.colors().find(function(e){return"down"===r.getFaceOfColor(e)}),i=t.getFaceOfColor("u"),e=(0,u.getFaceOfMove)(n),n="left"===(0,u.getDirectionFromFaces)(t.getFaceOfColor(n),t.getFaceOfColor("u"),{up:"down"}),i=(0,u.getRotationFromTo)("down",i,e);this.move(i,{upperCase:!0});i=r.getFaceOfColor(o),o=(0,u.getFaceOfMove)(o),e=n?e:a(e),o=(0,u.getRotationFromTo)("down",i,o);this.move(e+" "+o+" "+a(e),{upperCase:!0}),this.solveSeparatedPair({corner:t,edge:r})}}]),s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}function c(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}t.Case1Solver=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Case2Solver=void 0;function u(e){return i.RubiksCube.reverseMoves(e)}var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],o=!0,n=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(o=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){n=!0,i=e}finally{try{!o&&u.return&&u.return()}finally{if(n)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e},i=r(1),a=r(5),s=r(0),o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,a.F2LCaseBaseSolver),o(c,[{key:"_getCaseNumber",value:function(e){var t=e.corner,r=e.edge,o=t.faces().filter(function(e){return"down"!==e}),n=r.faces(),i=(0,s.getDirectionFromFaces)(o[0],o[1],{up:"down"}),e=(0,s.getDirectionFromFaces)(n[0],n[1],{up:"down"}),o="right"===i?o[1]:o[0],a="right"===e?n[1]:n[0];if("down"===t.getFaceOfColor("u"))return t.getColorOfFace(o)===r.getColorOfFace(a)?1:2;o=t.colors().find(function(e){return"u"!==e&&e!==t.getColorOfFace("down")});return o===("left"===(0,s.getDirectionFromFaces)(t.getFaceOfColor(o),t.getFaceOfColor("u"),{up:"down"})?r.getColorOfFace(a):r.colors().find(function(e){return r.getFaceOfColor(e)!==a}))?3:4}},{key:"_solveCase1",value:function(e){var t=e.corner,r=e.edge,o=r.colors()[0],e=t.getFaceOfColor(o),o=r.getFaceOfColor(o),e=(0,s.getRotationFromTo)("down",e,o);this.move(e,{upperCase:!0});o=r.faces(),e=n(o,2),o=e[0],e=e[1],o="right"===(0,s.getDirectionFromFaces)(o,e,{up:"down"})?e:o;this.move(o+" DPrime "+u(o),{upperCase:!0}),this.solveMatchedPair({corner:t,edge:r})}},{key:"_solveCase2",value:function(e){var t=e.corner,r=e.edge,o=t.getFaceOfColor(r.colors()[0]),e=r.getFaceOfColor(r.colors()[1]),e=(0,s.getRotationFromTo)("down",o,e);this.move(e,{upperCase:!0});e=(0,s.getDirectionFromFaces)(r.faces()[0],r.faces()[1],{up:"down"}),e=r.faces()["right"===e?1:0];this.move(e+" D "+u(e)+" DPrime",{upperCase:!0}),this.move(e+" D "+u(e),{upperCase:!0}),this.solveSeparatedPair({corner:t,edge:r})}},{key:"_solveCase3",value:function(e){var t=e.corner,e=e.edge;this._case3And4Helper({corner:t,edge:e},3)}},{key:"_solveCase4",value:function(e){var t=e.corner,e=e.edge;this._case3And4Helper({corner:t,edge:e},4)}},{key:"_case3And4Helper",value:function(e,t){var r=e.corner,o=e.edge,n=r.getColorOfFace("down"),i=r.colors().find(function(e){return![n,"u"].includes(e)}),a=3===t?i:n,e="left"===(0,s.getDirectionFromFaces)(r.getFaceOfColor(i),r.getFaceOfColor("u"),{up:"down"}),i=r.getFaceOfColor("u"),a=o.getFaceOfColor(a),i=(0,s.getRotationFromTo)("down",i,a),a=e?a:u(a),e=e?"DPrime":"D",e=4===t?u(e):e;this.move(i+" "+a+" "+e+" "+u(a),{upperCase:!0}),this["solve"+(3===t?"Matched":"Separated")+"Pair"]({corner:r,edge:o})}}]),c);function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}function l(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}t.Case2Solver=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Case3Solver=void 0;function u(e){return n.RubiksCube.reverseMoves(e)}var s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],o=!0,n=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(o=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){n=!0,i=e}finally{try{!o&&u.return&&u.return()}finally{if(n)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e},n=r(1),i=r(5),c=r(0),o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i.F2LCaseBaseSolver),o(a,[{key:"_getCaseNumber",value:function(e){var t=e.corner;return e.edge,"u"===t.getColorOfFace("up")?1:2}},{key:"_solveCase1",value:function(e){var t=e.corner,r=e.edge,o=t.faces().filter(function(e){return"up"!==e}),n="right"===(0,c.getDirectionFromFaces)(o[0],o[1],{up:"down"})?o:o.reverse(),i=s(n,2),a=i[0],e=i[1],o=r.faces().find(function(e){return"down"!==e}),n=r.getColorOfFace(o),i=(0,c.getFaceFromDirection)(t.getFaceOfColor(n),n===t.getColorOfFace(e)?"right":"left",{up:"down"}),n=n===t.getColorOfFace(a),i=(0,c.getRotationFromTo)("down",o,i),a=n?e:u(a);this.move(i+" "+a+" "+(n?"DPrime":"D")+" "+u(a),{upperCase:!0}),this.solveMatchedPair({corner:t,edge:r})}},{key:"_solveCase2",value:function(e){var t=e.corner,r=e.edge,o=t.colors().find(function(e){return"u"!==e&&"up"!==t.getFaceOfColor(e)}),n=r.faces().find(function(e){return"down"!==e}),i=o!==r.getColorOfFace(n),a=t.getFaceOfColor(i?o:"u"),e=(0,c.getRotationFromTo)("down",n,a),n="left"===(0,c.getDirectionFromFaces)(t.getFaceOfColor(o),t.getFaceOfColor("u"),{up:"down"}),a=n?"DPrime":"D",o=t.getFaceOfColor("u"),o=n?u(o):o;this.move(e+" "+o+" "+a+" "+u(o),{upperCase:!0}),this["solve"+(i?"Matched":"Separated")+"Pair"]({corner:t,edge:r})}}]),a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}function l(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}t.Case3Solver=o}],o.c=n,o.i=function(e){return e},o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=34);function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var r,n},"object"==typeof r&&"object"==typeof t?t.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof r?r.rubiksCubeSolver=n():o.rubiksCubeSolver=n()},{}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Cube",{enumerable:!0,get:function(){return o.Cube}}),Object.defineProperty(r,"Solver",{enumerable:!0,get:function(){return n.Solver}});var o=e("./model/cube.js"),n=e("./model/solver.js");Cube=o.Cube,Solver=n.Solver,Solver2=e("rubiks-cube-solver"),min2phase=e("min2phase.js")},{"./model/cube.js":5,"./model/solver.js":7,"min2phase.js":1,"rubiks-cube-solver":2}],4:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r={}.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function a(e,t,r){return(t=function(e){e=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);t=r.call(e,t||"default");if("object"!=o(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==o(e)?e:e+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(r,"__esModule",{value:!0}),r.Y_ROTATE_MAPPING=r.W=r.U=r.TOP_FACE_MAPPING=r.TOP_BLOCKS=r.SW=r.SLOT_M=r.SLOT_D=r.SLOT_COORDS_MAPPING=r.SE=r.S=r.R=r.PAIRS=r.NW=r.NE=r.N=r.L=r.INIT_BLOCKS=r.GRID_MAPPING=r.FACE_MAPPING=r.FACES=r.F=r.EDGE_GRID_MAPPING=r.EDGE_GRIDS=r.EDGE_COORDS=r.E=r.D=r.CORNER_GRID_MAPPING=r.CORNER_GRIDS=r.CORNER_COORDS=r.COLOR_U=r.COLOR_R=r.COLOR_F=r.COLOR_D=r.COLORS=r.BLOCK_COORDS=r.BASE_POSITIONS=r.B=void 0;var u=Cube_COLORS=r.COLORS={WHITE:[.9,.9,.9,1],GREEN:[0,1,0,1],RED:[1,0,0,1],BLUE:[0,0,1,1],ORANGE:[1,.5,0,1],YELLOW:[1,1,0,1],EMPTY:[0,0,0,0]},s=[u.YELLOW,u.WHITE,0,1],c=(r.COLOR_U=s[0],r.COLOR_D=s[1],r.COLOR_F=s[2],r.COLOR_R=s[3],r.F=0,r.B=1,r.U=2,r.D=3,r.R=4,r.L=5,r.S=0,r.E=1,r.N=2,r.W=3,r.SE=4,r.NE=5,r.NW=6,r.SW=7,r.SLOT_M=8,r.SLOT_D=9,r.EDGE_GRIDS=[0,1,2,3],r.CORNER_GRIDS=[7,5,6,4],r.FACE_MAPPING={"-1":{"-1":{"-1":[1,3,5],0:[3,5],1:[0,3,5]},0:{"-1":[1,5],0:[5],1:[0,5]},1:{"-1":[1,2,5],0:[2,5],1:[0,2,5]}},0:{"-1":{"-1":[1,3],0:[3],1:[0,3]},0:{"-1":[1],0:[],1:[0]},1:{"-1":[1,2],0:[2],1:[0,2]}},1:{"-1":{"-1":[1,3,4],0:[3,4],1:[0,3,4]},0:{"-1":[1,4],0:[4],1:[0,4]},1:{"-1":[1,2,4],0:[2,4],1:[0,2,4]}}}),l=r.FACES=[u.BLUE,u.GREEN,u.YELLOW,u.WHITE,u.RED,u.ORANGE],f=r.EDGE_COORDS=[[0,-1,-1],[1,-1,0],[0,-1,1],[-1,-1,0],[-1,0,1],[1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[1,1,0],[0,1,-1],[-1,1,0]],s=r.CORNER_COORDS=[[1,-1,1],[1,-1,-1],[-1,-1,-1],[-1,-1,1],[1,1,1],[1,1,-1],[-1,1,-1],[-1,1,1]],f=(r.BLOCK_COORDS=[].concat(f,s),r.PAIRS=[[u.BLUE,u.RED],[u.RED,u.GREEN],[u.GREEN,u.ORANGE],[u.ORANGE,u.BLUE]]),h=(r.SLOT_COORDS_MAPPING=a(a(a(a({},f[0],[[1,-1,1],[1,0,1]]),f[1],[[1,-1,-1],[1,0,-1]]),f[2],[[-1,-1,-1],[-1,0,-1]]),f[3],[[-1,-1,1],[-1,0,1]]),r.BASE_POSITIONS=[-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),s=(r.Y_ROTATE_MAPPING={0:{0:{"-1":2,1:0}},1:{0:{0:3},1:{1:0,"-1":3}},"-1":{0:{0:1},1:{1:1,"-1":2}}},r.EDGE_GRID_MAPPING=a(a(a(a({},0,[0,1,1]),1,[1,1,0]),2,[0,1,-1]),3,[-1,1,0])),f=r.CORNER_GRID_MAPPING=a(a(a(a({},4,[1,1,1]),5,[1,1,-1]),6,[-1,1,-1]),7,[-1,1,1]);r.GRID_MAPPING=Object.assign({},s,f),r.TOP_BLOCKS=[[0,1,1],[1,1,0],[0,1,-1],[-1,1,0],[1,1,1],[1,1,-1],[-1,1,-1],[-1,1,1]],r.TOP_FACE_MAPPING=a(a(a(a(a(a(a(a({},6,[5,1]),5,[1,4]),4,[4,0]),7,[0,5]),2,[1]),1,[4]),0,[0]),3,[5]),r.INIT_BLOCKS=function(){for(var e=[],t=-1;t<=1;t++)for(var r=-1;r<=1;r++)for(var o=-1;o<=1;o++)e.push({positions:function(r,o,n){return h.map(function(e,t){return 1.8*e/2+2*[r,o,n][t%3]})}(t,r,o),colors:function(e,t,r){var o=n(Array(6)).map(function(){return u.EMPTY});return c[e][t][r].forEach(function(e){o[e]=l[e]}),o}(t,r,o)});return e}},{}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Cube=void 0;var i=e("../renderer/shaders.js"),n=e("../renderer/buffer.js"),a=e("../renderer/render.js"),f=e("./consts.js");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,i,a,u=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(o=i.call(r)).done)&&(u.push(o.value),u.length!==t);s=!0);}catch(e){c=!0,n=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw n}}return u}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function l(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);t=r.call(e,t||"default");if("object"!=u(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==u(e)?e:e+""}(o.key),o)}}r.Cube=function(){return e=function e(t){var r=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=[0,0,!1];this.rX=n[0],this.rY=n[1],this.__ANIMATING=n[2],this.blocks=(0,f.INIT_BLOCKS)(),this.moves=[],o.forEach(function(e){return r.move(e)}),t&&(this.gl=t.getContext("webgl",{preserveDrawingBuffer:!0}),this.programInfo=(0,i.initProgram)(this.gl),this.gl.useProgram(this.programInfo.program))},(t=[{key:"animate",value:function(){var n=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500;if(i&&0===i.length)return Promise.resolve();if(!i||this.__ANIMATING)throw new Error("Unable to animate!");if(Array.isArray(i)&&1<i.length){var e=i.pop();return this.animate(i).then(function(){return n.animate(e)})}1===i.length&&(i=i[0]),this.__ANIMATING=!0;var u=i.includes("'")?1:-1;/[BDL]/.test(i)&&(u*=-1);var s=Date.now();return new Promise(function(o,e){window.requestAnimationFrame(function e(){var t=(Date.now()-s)/a,r=i.replace("'","");t<1?(n.render(n.rX,n.rY,r,90*t*u),window.requestAnimationFrame(e)):(n.move(i),n.render(n.rX,n.rY,null,0),n.__ANIMATING=!1,o())})})}},{key:"getBlock",value:function(e){var t=h(e,3),r=t[0],e=t[1],t=t[2];return this.blocks[9*(r+1)+3*(e+1)+t+1]}},{key:"move",value:function(e){var t=this;if(Array.isArray(e))return e.forEach(function(e){return t.move(e)}),this;var r={F:function(){return t.rotate([0,0,1],!0)},"F'":function(){return t.rotate([0,0,1],!1)},B:function(){return t.rotate([0,0,-1],!0)},"B'":function(){return t.rotate([0,0,-1],!1)},R:function(){return t.rotate([1,0,0],!0)},"R'":function(){return t.rotate([1,0,0],!1)},L:function(){return t.rotate([-1,0,0],!0)},"L'":function(){return t.rotate([-1,0,0],!1)},U:function(){return t.rotate([0,1,0],!0)},"U'":function(){return t.rotate([0,1,0],!1)},D:function(){return t.rotate([0,-1,0],!0)},"D'":function(){return t.rotate([0,-1,0],!1)}};return r[e]&&r[e](),this.moves.push(e),this}},{key:"render",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(!this.gl)throw new Error("Missing WebGL context!");this.buffer=(0,n.getBuffer)(this.gl,this.blocks,r,o),(0,a.renderFrame)(this.gl,this.programInfo,this.buffer,e,t)}},{key:"rotate",value:function(t){var r=this,e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],o=t.indexOf(1)+t.indexOf(-1)+1,e=0!==t[1]?!e:e;e=1===t[o]?e:!e;function n(e){return e.splice(o,0,t[o])}var i=[[1,1],[1,-1],[-1,-1],[-1,1]],a=[[0,1],[1,0],[0,-1],[-1,0]];i.forEach(n),a.forEach(n),e||(i=i.reverse(),a=a.reverse());function u(e){function t(e,t){for(var r=0;r<6;r++)e[r]=t[r]}var r=h(e,4),o=r[0],n=r[1],i=r[2],e=r[3];t(r=[],o),t(o,e),t(e,i),t(i,n),t(n,r)}var s=function(e){return r.getBlock(e).colors};u(i.map(s)),u(a.map(s));function c(e){var t=s(e),e=[t[l[0]],t[l[1]],t[l[2]],t[l[3]]];t[l[1]]=e[0],t[l[2]]=e[1],t[l[3]]=e[2],t[l[0]]=e[3]}var l=[[[f.F,f.U,f.B,f.D],[f.L,f.F,f.R,f.B],[f.L,f.U,f.R,f.D]],[[f.F,f.D,f.B,f.U],[f.F,f.L,f.B,f.R],[f.D,f.R,f.U,f.L]]][e?0:1][o];return i.forEach(c),a.forEach(c),this}},{key:"shuffle",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:20,t=["F","B","U","D","R","L"];return(1<arguments.length&&void 0!==arguments[1]&&arguments[1]?this.animate:this.move).bind(this)(o(Array(e)).map(function(){return t[parseInt(6*Math.random())]}))}}])&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}()},{"../renderer/buffer.js":8,"../renderer/render.js":10,"../renderer/shaders.js":11,"./consts.js":4}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PLL=r.OLL=r.F2L=void 0;var o=e("./consts.js");function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,r){return(t=function(e){e=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);t=r.call(e,t||"default");if("object"!=n(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==n(e)?e:e+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=i(i(i(i({},o.W,o.L),o.N,o.B),o.E,o.R),o.S,o.F);return i(i({},o.U,e),r[t],e===o.COLOR_F?o.COLOR_R:o.COLOR_F)}var u=i(i(i({},o.F,o.COLOR_D),o.U,o.COLOR_F),o.R,o.COLOR_R),s=i(i(i({},o.F,o.COLOR_F),o.U,o.COLOR_R),o.R,o.COLOR_D),c=i(i(i({},o.F,o.COLOR_R),o.U,o.COLOR_D),o.R,o.COLOR_F),l=i(i({},o.F,o.COLOR_F),o.R,o.COLOR_R),f=i(i({},o.F,o.COLOR_R),o.R,o.COLOR_F),h=i(i(i({},o.F,o.COLOR_F),o.R,o.COLOR_R),o.D,o.COLOR_D),v=i(i(i({},o.F,o.COLOR_D),o.R,o.COLOR_F),o.D,o.COLOR_R),e=i(i(i({},o.F,o.COLOR_R),o.R,o.COLOR_D),o.D,o.COLOR_F);r.F2L=[{match:i(i({},o.E,a(o.COLOR_F,o.E)),o.SE,u),moves:"U (R U' R')"},{match:i(i({},o.S,a(o.COLOR_R,o.S)),o.SE,s),moves:"U' (F' U F)"},{match:i(i({},o.W,a(o.COLOR_R,o.W)),o.SE,u),moves:"F' U' F"},{match:i(i({},o.N,a(o.COLOR_F,o.N)),o.SE,s),moves:"(R U R')"},{match:i(i({},o.N,a(o.COLOR_F,o.N)),o.SE,u),moves:"(U' R U R') U (R' F R F')"},{match:i(i({},o.W,a(o.COLOR_R,o.W)),o.SE,s),moves:"R R (B U B' U') R R"},{match:i(i({},o.W,a(o.COLOR_F,o.W)),o.SE,u),moves:"U' (R U U R') U U (R U' R')"},{match:i(i({},o.N,a(o.COLOR_R,o.N)),o.SE,s),moves:"(U F' U U F) (U F' U U F)"},{match:i(i({},o.N,a(o.COLOR_R,o.N)),o.SE,u),moves:"(U F' U' F) U' (F' U' F)"},{match:i(i({},o.W,a(o.COLOR_F,o.W)),o.SE,s),moves:"U' (R U R' U) (R U R')"},{match:i(i({},o.E,a(o.COLOR_R,o.E)),o.SE,u),moves:"U (F R' F' R) (F R' F' R) U' R U R'"},{match:i(i({},o.S,a(o.COLOR_F,o.S)),o.SE,s),moves:"R' U U R R U R R U R"},{match:i(i({},o.S,a(o.COLOR_R,o.S)),o.SE,u),moves:"(U F' U F) U' (F' U' F)"},{match:i(i({},o.E,a(o.COLOR_F,o.E)),o.SE,s),moves:"U' (R U' R' U) (R U R')"},{match:i(i({},o.S,a(o.COLOR_F,o.S)),o.SE,u),moves:"R B L U' L' B' R'"},{match:i(i({},o.E,a(o.COLOR_R,o.E)),o.SE,s),moves:"(R U' R') U U (F' U' F)"},{match:i(i({},o.E,a(o.COLOR_F,o.E)),o.SE,c),moves:"(R U U R') U' (R U R')"},{match:i(i({},o.S,a(o.COLOR_R,o.S)),o.SE,c),moves:"F' U U F U F' U' F"},{match:i(i({},o.N,a(o.COLOR_F,o.N)),o.SE,c),moves:"U R U U R R (F R F')"},{match:i(i({},o.W,a(o.COLOR_R,o.W)),o.SE,c),moves:"U' F' U U F F (R' F' R)"},{match:i(i({},o.W,a(o.COLOR_F,o.W)),o.SE,c),moves:"R B U U B' R'"},{match:i(i({},o.N,a(o.COLOR_R,o.N)),o.SE,c),moves:"F' L' U U L F"},{match:i(i({},o.S,a(o.COLOR_F,o.S)),o.SE,c),moves:"U (F R' F' R) U (R U R')"},{match:i(i({},o.E,a(o.COLOR_R,o.E)),o.SE,c),moves:"U F' L' U L F R U R'"},{match:i(i({},o.E,a(o.COLOR_F,o.E)),o.SLOT_D,h),moves:"U' (F' U F) U (R U' R')"},{match:i(i({},o.S,a(o.COLOR_R,o.S)),o.SLOT_D,h),moves:"U (R U' R') U' (F' U F)"},{match:i(i({},o.E,a(o.COLOR_F,o.E)),o.SLOT_D,v),moves:"(R U' R' U) (R U' R')"},{match:i(i({},o.S,a(o.COLOR_R,o.S)),o.SLOT_D,e),moves:"(R U R' U') F R' F' R"},{match:i(i({},o.S,a(o.COLOR_R,o.S)),o.SLOT_D,v),moves:"(R' F R F') (R' F R F')"},{match:i(i({},o.E,a(o.COLOR_F,o.E)),o.SLOT_D,e),moves:"(R U R' U') (R U R')"},{match:i(i({},o.SLOT_M,f),o.SE,c),moves:"(R U' R' U) (F' U F)"},{match:i(i({},o.SLOT_M,l),o.SE,c),moves:"(R U R' U') (R U R' U') (R U R')"},{match:i(i({},o.SLOT_M,l),o.SE,u),moves:"U' (R U' R') U U (R U' R')"},{match:i(i({},o.SLOT_M,l),o.SE,s),moves:"U (F' U F) U U (F' U F)"},{match:i(i({},o.SLOT_M,f),o.SE,u),moves:"U U (R U' R') U' (F' U' F)"},{match:i(i({},o.SLOT_M,f),o.SE,s),moves:"U F' U' F U' (R U R')"},{match:i(i({},o.SLOT_M,f),o.SLOT_D,h),moves:"(R' F R F') (R U' R' U) (R U' R' U U) (R U' R')"},{match:i(i({},o.SLOT_M,l),o.SLOT_D,v),moves:"(R U' R') U' (R U R') U U (R U' R')"},{match:i(i({},o.SLOT_M,l),o.SLOT_D,e),moves:"(R U' R' U) (R U U R') U (R U' R')"},{match:i(i({},o.SLOT_M,f),o.SLOT_D,v),moves:"R F (U R U' R' F') U' R'"},{match:i(i({},o.SLOT_M,f),o.SLOT_D,e),moves:"(R U R' U') (R U' R') U U (F' U' F)"}].map(function(e){return{match:e.match,moves:e.moves.replace(/(\(|\))/g,"").split(" ")}}),r.OLL=[{id:1,match:i(i(i(i(i(i(i(i({},o.NW,o.L),o.N,o.B),o.NE,o.R),o.E,o.R),o.SE,o.R),o.S,o.F),o.SW,o.L),o.W,o.L),moves:"R U B' R B R R U' R' F R F'"},{id:2,match:i(i(i(i(i(i(i(i({},o.NW,o.L),o.N,o.B),o.NE,o.B),o.E,o.R),o.SE,o.F),o.S,o.F),o.SW,o.L),o.W,o.L),moves:"U U F R' F' R U R R B' R' B U' R'"},{id:3,match:i(i(i(i(i(i(i({},o.NW,o.B),o.N,o.B),o.E,o.R),o.SE,o.F),o.S,o.F),o.SW,o.L),o.W,o.L),moves:"L (U F U' F') L' U' R (B U B' U') R'"},{id:4,match:i(i(i(i(i(i(i({},o.NW,o.L),o.N,o.B),o.E,o.R),o.SE,o.R),o.S,o.F),o.SW,o.F),o.W,o.L),moves:"B (U L U' L') B' U F (R U R' U') F'"},{id:5,match:i(i(i(i(i({},o.NW,o.B),o.N,o.B),o.NE,o.R),o.SW,o.L),o.W,o.L),moves:"L' B B R B R' B L"},{id:6,match:i(i(i(i(i({},o.NW,o.L),o.N,o.B),o.NE,o.B),o.E,o.R),o.SE,o.R),moves:"R B B L' B' L B' R'"},{id:7,match:i(i(i(i(i({},o.NW,o.B),o.NE,o.R),o.E,o.R),o.SE,o.F),o.S,o.F),moves:"F R' F' R U U R U U R'"},{id:8,match:i(i(i(i(i({},o.NW,o.L),o.NE,o.B),o.S,o.F),o.SW,o.F),o.W,o.L),moves:"R U U R' U U R' F R F'"},{id:9,match:i(i(i(i(i({},o.NW,o.L),o.NE,o.B),o.SE,o.R),o.S,o.F),o.W,o.L),moves:"R' U' R U' R' U R' F R F' U R"},{id:10,match:i(i(i(i(i({},o.NW,o.B),o.NE,o.R),o.E,o.R),o.S,o.F),o.SW,o.L),moves:"(F U F' U) (F' L F L') F U U F'"},{id:11,match:i(i(i(i(i({},o.N,o.B),o.NE,o.R),o.E,o.R),o.SE,o.F),o.SW,o.L),moves:"R U' R' U' R U' R' U U F' U F U' R U R'"},{id:12,match:i(i(i(i(i({},o.NW,o.L),o.N,o.B),o.SE,o.R),o.SW,o.F),o.W,o.L),moves:"F (R U R' U') F' U F (R U R' U') F'"},{id:13,match:i(i(i(i(i({},o.NW,o.B),o.N,o.B),o.NE,o.R),o.SE,o.F),o.S,o.F),moves:"F U R U' R R F' R U R U' R'"},{id:14,match:i(i(i(i(i({},o.NW,o.L),o.N,o.B),o.NE,o.B),o.S,o.F),o.SW,o.F),moves:"F' U' L' U U L U L' U' L F"},{id:15,match:i(i(i(i(i({},o.NW,o.B),o.N,o.B),o.NE,o.R),o.S,o.F),o.SW,o.L),moves:"L' B' L R' U' R U L' B L"},{id:16,match:i(i(i(i(i({},o.NW,o.L),o.N,o.B),o.NE,o.B),o.SE,o.R),o.S,o.F),moves:"R B R' (L U L' U') R B' R'"},{id:17,match:i(i(i(i(i(i({},o.N,o.B),o.NE,o.B),o.E,o.R),o.S,o.F),o.SW,o.L),o.W,o.L),moves:"R U R' U (R' F R F') U U (R' F R F')"},{id:18,match:i(i(i(i(i(i({},o.NW,o.L),o.N,o.B),o.E,o.R),o.S,o.F),o.SW,o.L),o.W,o.L),moves:"(L' B L B') U U (L' B L B') (U B' U B)"},{id:19,match:i(i(i(i(i(i({},o.N,o.B),o.E,o.R),o.SE,o.R),o.S,o.F),o.SW,o.L),o.W,o.L),moves:"R' U U F R U R' U' F F U U F R"},{id:20,match:i(i(i(i({},o.N,o.B),o.E,o.R),o.S,o.F),o.W,o.L),moves:"R B U B' R' F F B D' L' D B' F F"},{id:21,match:i(i(i(i({},o.NW,o.L),o.NE,o.R),o.SE,o.R),o.SW,o.L),moves:"R U R' U R U' R' U R U U R'"},{id:22,match:i(i(i(i({},o.NW,o.L),o.NE,o.B),o.SE,o.F),o.SW,o.L),moves:"R U U R' R' U' R R U' R' R' U U R"},{id:23,match:i(i({},o.NW,o.B),o.NE,o.B),moves:"R' U U R F U' R' U' R U F'"},{id:24,match:i(i({},o.NW,o.B),o.SW,o.F),moves:"L F R' F' L' F R F'"},{id:25,match:i(i({},o.NE,o.B),o.SW,o.L),moves:"R' F' L' F R F' L F"},{id:26,match:i(i(i({},o.NW,o.L),o.NE,o.B),o.SW,o.F),moves:"L' U' L U' L' U U L"},{id:27,match:i(i(i({},o.NW,o.B),o.NE,o.R),o.SE,o.F),moves:"R U R' U R U U R'"},{id:28,match:i(i({},o.E,o.R),o.S,o.F),moves:"F R U R' U' F F L' U' L U F"},{id:29,match:i(i(i(i({},o.N,o.B),o.E,o.R),o.SE,o.R),o.SW,o.L),moves:"L' L' U' L B L' U L' L' U' L' B' L"},{id:30,match:i(i(i(i({},o.N,o.B),o.SE,o.R),o.SW,o.L),o.W,o.L),moves:"R' R' U R' B' R U' R' R' U R B R'"},{id:31,match:i(i(i(i({},o.N,o.B),o.NE,o.B),o.E,o.R),o.SE,o.F),moves:"L' U' B U L U' L' B' L"},{id:32,match:i(i(i(i({},o.NW,o.B),o.N,o.B),o.SW,o.F),o.W,o.L),moves:"R U B' U' R' U R B R'"},{id:33,match:i(i(i(i({},o.NW,o.B),o.N,o.B),o.S,o.F),o.SW,o.F),moves:"(R U R' U') (R' F R F')"},{id:34,match:i(i(i(i({},o.NW,o.L),o.N,o.B),o.NE,o.R),o.S,o.F),moves:"(R U R' U') B' (R' F R F') B"},{id:35,match:i(i(i(i({},o.N,o.B),o.NE,o.R),o.SW,o.F),o.W,o.L),moves:"R U U R' R' F R F' R U U R'"},{id:36,match:i(i(i(i({},o.N,o.B),o.NE,o.R),o.E,o.R),o.SW,o.F),moves:"R' U' R U' R' U R U R B' R' B"},{id:37,match:i(i(i(i({},o.NW,o.B),o.N,o.B),o.E,o.R),o.SE,o.R),moves:"R B' R' B U B U' B'"},{id:38,match:i(i(i(i({},o.NW,o.L),o.N,o.B),o.SE,o.F),o.W,o.L),moves:"L U L' U L U' L' U' L' B L B'"},{id:39,match:i(i(i(i({},o.NW,o.B),o.N,o.B),o.SE,o.R),o.S,o.F),moves:"L F' (L' U' L U) F U' L'"},{id:40,match:i(i(i(i({},o.N,o.B),o.NE,o.B),o.S,o.F),o.SW,o.L),moves:"R' F (R U R' U') F' U R"},{id:41,match:i(i(i(i({},o.N,o.B),o.SE,o.F),o.SW,o.F),o.W,o.L),moves:"B U L U' L' B' L' U U L U L' U L"},{id:42,match:i(i(i(i({},o.N,o.B),o.E,o.R),o.SE,o.F),o.SW,o.F),moves:"R' U' R U F R U R' U' R' U R U' F'"},{id:43,match:i(i(i(i({},o.N,o.B),o.NE,o.R),o.E,o.R),o.SE,o.R),moves:"B' U' R' U R B"},{id:44,match:i(i(i(i({},o.NW,o.L),o.N,o.B),o.SW,o.L),o.W,o.L),moves:"B U L U' L' B'"},{id:45,match:i(i(i(i({},o.NW,o.L),o.N,o.B),o.S,o.F),o.SW,o.L),moves:"F (R U R' U') F'"},{id:46,match:i(i(i(i({},o.NE,o.R),o.E,o.R),o.SE,o.R),o.W,o.L),moves:"R' U' R' F R F' U R"},{id:47,match:i(i(i(i(i(i({},o.NW,o.B),o.NE,o.R),o.W,o.L),o.SW,o.F),o.S,o.F),o.SE,o.R),moves:"F' (L' U' L U) (L' U' L U) F"},{id:48,match:i(i(i(i(i(i({},o.NW,o.L),o.NE,o.B),o.E,o.R),o.SE,o.F),o.S,o.F),o.SW,o.L),moves:"F (R U R' U') (R U R' U') F'"},{id:49,match:i(i(i(i(i(i({},o.NW,o.B),o.N,o.B),o.NE,o.R),o.E,o.R),o.SE,o.R),o.SW,o.F),moves:"R B' R R F R R B R R F' R"},{id:50,match:i(i(i(i(i(i({},o.NW,o.L),o.N,o.B),o.NE,o.B),o.SE,o.F),o.SW,o.L),o.W,o.L),moves:"R B' R B R R U U F R' F' R"},{id:51,match:i(i(i(i(i(i({},o.NW,o.B),o.N,o.B),o.NE,o.R),o.SE,o.R),o.S,o.F),o.SW,o.F),moves:"F U R U' R' U R U' R' F'"},{id:52,match:i(i(i(i(i(i({},o.NW,o.B),o.NE,o.R),o.E,o.R),o.SE,o.R),o.SW,o.F),o.W,o.L),moves:"R' U' R U' R' U F' U F R"},{id:53,match:i(i(i(i(i(i({},o.NW,o.L),o.SW,o.L),o.S,o.F),o.SE,o.R),o.E,o.R),o.NE,o.R),moves:"F R U R' U' F' R U R' U' R' F R F'"},{id:54,match:i(i(i(i(i(i({},o.NW,o.L),o.NE,o.R),o.SE,o.R),o.S,o.F),o.SW,o.L),o.W,o.L),moves:"U U F R' F' R U U F F L F L' F"},{id:55,match:i(i(i(i(i(i({},o.NW,o.L),o.NE,o.R),o.E,o.R),o.SE,o.R),o.SW,o.L),o.W,o.L),moves:"R U U R R U' R U' R' U U F R F'"},{id:56,match:i(i(i(i(i(i({},o.NW,o.L),o.N,o.B),o.NE,o.R),o.SE,o.R),o.S,o.F),o.SW,o.L),moves:"L F L' U R U' R' U R U' R' L F' L'"},{id:57,match:i(i({},o.N,o.B),o.S,o.F),moves:"R U R' U' L R' F R F' L'"}].map(function(e){return{id:e.id,match:e.match,moves:e.moves.replace(/(\(|\))/g,"").split(" ")}}),r.PLL=[{name:"H",match:i(i(i(i({},o.N,o.S),o.S,[o.N]),o.W,o.E),o.E,o.W),moves:"L R U U L' R' F' B' U U F B"},{name:"U-a",match:i(i(i({},o.N,o.W),o.W,[o.E]),o.E,o.N),moves:"R R U' R' U' R U R U R U' R"},{name:"U-b",match:i(i(i({},o.N,o.E),o.E,o.W),o.W,o.N),moves:"R' U R' U' R' U' R' U R U R R"},{name:"Z",match:i(i(i(i({},o.W,o.N),o.N,o.W),o.S,o.E),o.E,o.S),moves:"U R' U' R U' R U R U' R' U R U R R U' R' U"},{name:"A-a",match:i(i(i({},o.NW,o.NE),o.NE,o.SE),o.SE,o.NW),moves:"R' F R' B B R F' R' B B R R"},{name:"A-b",match:i(i(i({},o.NE,o.SW),o.SW,o.SE),o.SE,o.NE),moves:"R B' R F F R' B R F F R R"},{name:"E",match:i(i(i(i({},o.NW,o.NE),o.NE,o.NW),o.SW,o.SE),o.SE,o.SW),moves:"D R' D D F' D L D' F D D R D' F' L' F"},{name:"F",match:i(i(i(i({},o.NW,o.NE),o.NE,o.NW),o.W,o.E),o.E,o.W),moves:"(R' U R U') R R (F' U' F U) (R F R' F') R R U'"},{name:"G-a",match:i(i(i(i(i(i({},o.NW,o.SE),o.SE,o.SW),o.SW,o.NW),o.W,o.S),o.S,o.N),o.N,o.W),moves:"(R U R' U' R') U F (R U R U' R') F' U R' U U R"},{name:"G-b",match:i(i(i(i(i(i({},o.NW,o.SW),o.SW,o.SE),o.SE,o.NW),o.W,o.N),o.N,o.S),o.S,o.W),moves:"R' U' R B B D (L' U L U' L) D' B B"},{name:"G-c",match:i(i(i(i(i(i({},o.NE,o.SW),o.SW,o.SE),o.SE,o.NE),o.N,o.E),o.E,o.S),o.S,o.N),moves:"L' U' L U L U' F' L' U' L' U L F U' L U U L'"},{name:"G-d",match:i(i(i(i(i(i({},o.NE,o.SE),o.SE,o.SW),o.SW,o.NE),o.N,o.S),o.S,o.E),o.E,o.N),moves:"L U L' B B D' (R U' R' U R') D B B"},{name:"J-a",match:i(i(i(i({},o.NW,o.SW),o.SW,o.NW),o.W,o.S),o.S,o.W),moves:"(B' U F') U U (B U' B') U U (F B U')"},{name:"J-b",match:i(i(i(i({},o.NE,o.SE),o.SE,o.NE),o.E,o.S),o.S,o.E),moves:"(B U' F) U U (B' U B) U U (F' B' U)"},{name:"N-a",match:i(i(i(i({},o.W,o.E),o.E,o.W),o.SW,o.NE),o.NE,o.SW),moves:"(R U' L U U R' U L') (R U' L U U R' U L')"},{name:"N-b",match:i(i(i(i({},o.W,o.E),o.E,o.W),o.NW,o.SE),o.SE,o.NW),moves:"(L' U R' U' U' L U' R) (L' U R' U' U' L U' R)"},{name:"R-a",match:i(i(i(i({},o.N,o.E),o.E,o.N),o.SW,o.SE),o.SE,o.SW),moves:"R U U R' U U R B' R' U' R U R B R R"},{name:"R-b",match:i(i(i(i({},o.NW,o.NE),o.NE,o.NW),o.S,o.E),o.E,o.S),moves:"R' U U R U U R' F R U R' U' R' F' R R"},{name:"T",match:i(i(i(i({},o.W,o.E),o.E,o.W),o.NE,o.SE),o.SE,o.NE),moves:"R U R' U' R' F R R U' R' U' R U R' F'"},{name:"V",match:i(i(i(i({},o.NW,o.SE),o.SE,o.NW),o.N,o.E),o.E,o.N),moves:"R' U R' U' B' R' B B U' B' U B' R B R"},{name:"Y",match:i(i(i(i({},o.NW,o.SE),o.SE,o.NW),o.W,o.N),o.N,o.W),moves:"F R U' R' U' R U R' F' R U R' U' R' F R F'"}].map(function(e){return{name:e.name,match:e.match,moves:e.moves.replace(/(\(|\))/g,"").split(" ")}})},{"./consts.js":4}],7:[function(e,t,r){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.matchPermutationRule=r.matchOrientationRule=r.isPermutationSolved=r.isOrientationSolved=r.Solver=void 0;var l=e("./cube.js"),f=e("./consts.js"),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};t=u(t);if(t&&t.has(e))return t.get(e);var r,o={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var i;"default"!==r&&{}.hasOwnProperty.call(e,r)&&((i=n?Object.getOwnPropertyDescriptor(e,r):null)&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r])}return o.default=e,t&&t.set(e,o),o}(e("./rules.js"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function v(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e){e=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);t=r.call(e,t||"default");if("object"!=a(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==a(e)?e:e+""}function m(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,i,a,u=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(o=i.call(r)).done)&&(u.push(o.value),u.length!==t);s=!0);}catch(e){c=!0,n=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw n}}return u}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function c(t,e){return f.SLOT_COORDS_MAPPING[e].every(function(e){return O(t.getBlock(e),S(e))})}function R(o){return f.EDGE_COORDS.filter(function(e){var t,r=o.getBlock(e);return t=f.COLOR_D,r.colors.some(function(e){return e===t})&&!O(r,S(e))})}function d(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],o=(i=p(w(e,t),2))[0],n=i[1],i=["R","U","R'"];return E(o,t)||0!==o[1]?E(n,t)||-1!==n[1]?r:(n=[n[0],1,n[2]],i=M(n,i),e.move(i),d(e,t,[].concat(m(r),m(i)))):(o=[o[0],1,o[2]],i=M(o,i),e.move(i),d(e,t,[].concat(m(r),m(i))))}function g(t){var r=[];return f.TOP_BLOCKS.forEach(function(e){return r.push(m(t.getBlock(e).colors))}),r}function y(e,t){if(c(e,t))return[];for(var r=d(new l.Cube(null,e.moves),t),o=[[],["U"],["U","U"],["U'"]],n=0;n<o.length;n++)for(var i=new l.Cube(null,[].concat(m(e.moves),m(r),m(o[n]))),a=0;a<h.F2L.length;a++)if(function(i,a,u){return Object.keys(a.match).every(function(r){var e=Object.keys(a.match[r]).map(function(e){return parseInt(e)}),o=i.getBlock(k(u,r)),t=k(u,f.SE),n=e.map(function(e){return B(t,e)});return e.every(function(e,t){e=a.match[r][e],e=e===f.COLOR_D?f.COLOR_D:u[e];return o.colors[n[t]]===e})})}(i,h.F2L[a],t)){var u=k(t,f.SE),u=M(u,h.F2L[a].moves),u=[].concat(m(r),m(o[n]),m(u));return e.move(u),c(e,t)||console.error("Error F2L at ".concat(a)),u}return null}function F(e){if(L(g(e)))return[];for(var t=[[],["U"],["U","U"],["U'"]],r=[],o=!1,n=0;n<t.length;n++)for(var i=new l.Cube(null,[].concat(m(e.moves),m(t[n]))),a=0;a<h.PLL.length;a++)if(A(i,h.PLL[a])){r=[].concat(m(t[n]),m(h.PLL[a].moves)),e.move(r),o=!0,L(g(e))||console.error("Error PLL name ".concat(h.PLL[a].name));break}if(!o)return null;for(var u=[[],["U"],["U","U"],["U'"]],s=0;s<u.length;s++){var c=new l.Cube(null,[].concat(m(e.moves),m(u[s])));if(O(c.getBlock(f.TOP_BLOCKS[0]),S(f.TOP_BLOCKS[0])))return[].concat(m(r),m(u[s]))}return null}function b(e,t){var r=[],o=e.getBlock(t),n=o.colors.find(function(e){return e!==f.COLOR_D&&e!==f.COLORS.EMPTY}),n=[(e=N(n))[0],e[1]+1,e[2]];return r.push.apply(r,m(_(t,n))),o.colors[f.U]!==f.COLOR_D?r.push.apply(r,m(M(e,["U'","R'","F","R"]))):r.push.apply(r,m(M(e,["F","F"]))),r}function U(t,e){var r,o,n,i=p(e,3),a=i[0],u=i[1],s=i[2],c=[],e=t.getBlock([a,u,s]);return-1===u?(r=[a,u+1,s],e.colors[f.D]===f.COLOR_D?((i=M(r,["F","F"])).forEach(function(e){return t.move(e)}),c.push.apply(c,m(i))):((n=M(r,["F'","R","F","U"])).forEach(function(e){return t.move(e)}),c.push.apply(c,m(n))),(r=b(t,[a,u+2,s])).forEach(function(e){return t.move(e)}),c.push.apply(c,m(r))):0===u?(r=B(n=[a,u+1,s],f.F),e.colors[r]===f.COLOR_D?((o=M(n,["R","U","R'"])).forEach(function(e){return t.move(e)}),c.push.apply(c,m(o))):((o=M(n,["F'","U'","F","U"])).forEach(function(e){return t.move(e)}),c.push.apply(c,m(o))),n=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"left";return v(v(v(v({},[1,1,1],[[0,1,1],[1,1,0]]),[1,1,-1],[[1,1,0],[0,1,-1]]),[-1,1,-1],[[0,1,-1],[-1,1,0]]),[-1,1,1],[[-1,1,0],[0,1,1]])[e]["left"===t?0:1]}(n),(n=b(t,n)).forEach(function(e){return t.move(e)}),c.push.apply(c,m(n))):((s=b(t,[a,u,s])).forEach(function(e){return t.move(e)}),c.push.apply(c,m(s))),c}var P=(0,f.INIT_BLOCKS)(),S=function(e){var t=p(e,3),r=t[0],e=t[1],t=t[2];return P[9*(r+1)+3*(e+1)+t+1]},O=function(e,r){return e.colors.every(function(e,t){return e===r.colors[t]})},C=r.isOrientationSolved=function(t){return f.TOP_BLOCKS.every(function(e){return t.getBlock(e).colors[f.U]===f.COLOR_U})},L=r.isPermutationSolved=function(e){return e[f.NW][f.B]===e[f.N][f.B]&&e[f.N][f.B]===e[f.NE][f.B]&&e[f.NE][f.R]===e[f.E][f.R]&e[f.E][f.R]===e[f.SE][f.R]&&e[f.SE][f.F]===e[f.S][f.F]&&e[f.S][f.F]===e[f.SW][f.F]&&e[f.SW][f.L]===e[f.W][f.L]&&e[f.W][f.L]===e[f.SW][f.L]},w=function(n,i){return f.BLOCK_COORDS.filter(function(e){var t,r,o=n.getBlock(e);return(r=p(t=e,3),e=r[0],t=r[1],r=r[2],Math.abs(e)+Math.abs(t)+Math.abs(r)===3?[].concat(m(i),[f.COLOR_D]):i).every(function(e){return o.colors.includes(e)})})},E=function(r,e){return f.SLOT_COORDS_MAPPING[e].some(function(e){return t=e,(e=r)[0]===t[0]&&e[1]===t[1]&&e[2]===t[2];var t})},_=function(e,t){var r=p(e,3),o=r[0],n=r[1],i=r[2],a=p(t,3),e=a[0],r=a[1],t=a[2],a={0:{1:{1:0,"-1":2}},"-1":{1:{0:3}},1:{1:{0:1}}},i=a[o][n][i];return{"-3":["U'"],"-2":["U","U"],"-1":["U"],0:[],1:["U'"],2:["U","U"],3:["U"]}[a[e][r][t]-i]},M=function(t,e){return e.map(function(e){return function(e,t){var r=p(e,3),o=r[0],n=r[1],i=r[2],e=["F","L","B","R"],r=e.indexOf(t.replace("'",""));if(-1===r)return t;i=e[(r+f.Y_ROTATE_MAPPING[o][n][i])%4];return i+=t.includes("'")?"'":""}(t,e)})},B=function(e,t){var r=p(e,3),o=r[0],n=r[1],e=r[2];if(t===f.U||t===f.D)return t;r=[f.F,f.L,f.B,f.R],t=r.indexOf(t);return r[(t+f.Y_ROTATE_MAPPING[o][n][e])%4]},N=function(e){return v(v(v(v(v(v({},f.COLORS.BLUE,[0,0,1]),f.COLORS.GREEN,[0,0,-1]),f.COLORS.RED,[1,0,0]),f.COLORS.ORANGE,[-1,0,0]),f.COLORS.YELLOW,[0,1,0]),f.COLORS.WHITE,[0,-1,0])[e]},k=function(e,t){if((t=parseInt(t))===f.SLOT_M)return f.SLOT_COORDS_MAPPING[e][1];if(t===f.SLOT_D)return f.SLOT_COORDS_MAPPING[e][0];e=t<4?(t+f.PAIRS.indexOf(e))%4:(t-4+f.PAIRS.indexOf(e))%4+4;return(f.EDGE_GRIDS.includes(t)?f.EDGE_GRID_MAPPING:f.CORNER_GRID_MAPPING)[e]},j=r.matchOrientationRule=function(r,e){var o=e.match;return[f.S,f.E,f.N,f.W,f.SE,f.NE,f.NW,f.SW].every(function(e){var t=Number.isInteger(o[e])?o[e]:f.U;return r.getBlock(f.GRID_MAPPING[e]).colors[t]===f.COLOR_U})},A=r.matchPermutationRule=function(e,t){var o=t.match,n=g(e),i=g(e);return Object.keys(o).forEach(function(e){for(var t=o[e],r=0;r<f.TOP_FACE_MAPPING[e].length;r++)i[t][f.TOP_FACE_MAPPING[t][r]]=n[e][f.TOP_FACE_MAPPING[e][r]]}),L(i)};r.Solver=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cube=t},(t=[{key:"solve",value:function(){var t=this;this.solveCross().forEach(function(e){return t.cube.move(e)}),this.solveF2L().forEach(function(e){return t.cube.move(e)}),this.cube.move(this.solveOLL()||[]),this.cube.move(this.solvePLL()||[])}},{key:"solveCross",value:function(){for(var e=new l.Cube(null,this.cube.moves),t=[];;){var r=R(e);if(!r.length)break;t.push(U(e,r[0]))}return t}},{key:"solveF2L",value:function(){for(var e=new l.Cube(null,this.cube.moves),t=[],r=0;r<4;r++)t.push(y(e,f.PAIRS[r]));return t}},{key:"solveOLL",value:function(){return function(e){if(C(e))return[];for(var t=[[],["U"],["U","U"],["U'"]],r=0;r<t.length;r++)for(var o=new l.Cube(null,[].concat(m(e.moves),m(t[r]))),n=0;n<h.OLL.length;n++){var i=h.OLL[n];if(j(o,i)){var a=[].concat(m(t[r]),m(i.moves));return e.move(a),C(e)||console.error("Error OLL id ".concat(i.id)),a}}return null}(new l.Cube(null,this.cube.moves))}},{key:"solvePLL",value:function(){var e=new l.Cube(null,this.cube.moves);return F(e)}}])&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}()},{"./consts.js":4,"./cube.js":5,"./rules.js":6}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getBuffer=function(e,r,t,o){for(var n=[],i=[],a=[],u=[],s=-1;s<=1;s++)for(var c=-1;c<=1;c++)for(var l=-1;l<=1;l++){var f=9*(s+1)+3*(c+1)+l+1;if(t&&U([s,c,l],t))for(var h=r[f].positions,v=0;v<72;v+=3){var m=[];P(t)(m,[h[v],h[v+1],h[v+2]],[0,0,0],o/180*Math.PI),n.push(m[0],m[1],m[2])}else n=[].concat(b(n),b(r[f].positions))}for(var p=0;p<r.length;p++)!function(t){i=[].concat(b(i),b(r[t].colors)),u=[].concat(b(u),b(S.map(function(e){return e+24*t})))}(p);for(var R=0;R<i.length;R++){var d=i[R];a=a.concat(d,d,d,d)}var g=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,g),e.bufferData(e.ARRAY_BUFFER,new Float32Array(n),e.STATIC_DRAW);var y=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,y),e.bufferData(e.ARRAY_BUFFER,new Float32Array(a),e.STATIC_DRAW);var F=e.createBuffer();return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,F),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(u),e.STATIC_DRAW),{positions:g,colors:y,indices:F}};var o=e("./math.js");function b(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}var U=function(e,t){return{U:function(){return 1===e[1]},D:function(){return-1===e[1]},L:function(){return-1===e[0]},R:function(){return 1===e[0]},F:function(){return 1===e[2]},B:function(){return-1===e[2]}}[t]()},P=function(e){return{U:o.rotateY,D:o.rotateY,L:o.rotateX,R:o.rotateX,F:o.rotateZ,B:o.rotateZ}[e]},S=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]},{"./math.js":9}],9:[function(e,t,r){"use strict";function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,i,a,u=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(o=i.call(r)).done)&&(u.push(o.value),u.length!==t);s=!0);}catch(e){c=!0,n=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw n}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}Object.defineProperty(r,"__esModule",{value:!0}),r.create=function(){var e=new n(16);n!==Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},r.perspective=function(e,t,r,o,n){var t=1/Math.tan(t/2);e[0]=t/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=n&&n!==1/0?(t=1/(o-n),e[10]=(n+o)*t,e[14]=2*n*o*t):(e[10]=-1,e[14]=-2*o);return e},r.rotate=function(e,t,r,o){var n,i,a,u,s,c,l,f,h,v,m,p,R,d,g,y,F,b,U=L(o,3),P=U[0],S=U[1],O=U[2],C=Math.sqrt(P*P+S*S+O*O);if(C<w)return null;P*=C=1/C,S*=C,O*=C,F=Math.sin(r),b=Math.cos(r),n=1-b,i=t[0],a=t[1],u=t[2],s=t[3],c=t[4],l=t[5],f=t[6],h=t[7],v=t[8],m=t[9],p=t[10],R=t[11],d=P*P*n+b,g=S*P*n+O*F,y=O*P*n-S*F,o=P*S*n-O*F,U=S*S*n+b,C=O*S*n+P*F,r=P*O*n+S*F,F=S*O*n-P*F,b=O*O*n+b,e[0]=i*d+c*g+v*y,e[1]=a*d+l*g+m*y,e[2]=u*d+f*g+p*y,e[3]=s*d+h*g+R*y,e[4]=i*o+c*U+v*C,e[5]=a*o+l*U+m*C,e[6]=u*o+f*U+p*C,e[7]=s*o+h*U+R*C,e[8]=i*r+c*F+v*b,e[9]=a*r+l*F+m*b,e[10]=u*r+f*F+p*b,e[11]=s*r+h*F+R*b,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);return e},r.rotateX=function(e,t,r,o){var n=[],i=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],i[0]=n[0],i[1]=n[1]*Math.cos(o)-n[2]*Math.sin(o),i[2]=n[1]*Math.sin(o)+n[2]*Math.cos(o),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e},r.rotateY=function(e,t,r,o){var n=[],i=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],i[0]=n[2]*Math.sin(o)+n[0]*Math.cos(o),i[1]=n[1],i[2]=n[2]*Math.cos(o)-n[0]*Math.sin(o),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e},r.rotateZ=function(e,t,r,o){var n=[],i=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],i[0]=n[0]*Math.cos(o)-n[1]*Math.sin(o),i[1]=n[0]*Math.sin(o)+n[1]*Math.cos(o),i[2]=n[2],e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e},r.translate=function(e,t,r){var o,n,i,a,u,s,c,l,f,h,v=L(r,3),m=v[0],p=v[1],R=v[2];t===e?(e[12]=t[0]*m+t[4]*p+t[8]*R+t[12],e[13]=t[1]*m+t[5]*p+t[9]*R+t[13],e[14]=t[2]*m+t[6]*p+t[10]*R+t[14],e[15]=t[3]*m+t[7]*p+t[11]*R+t[15]):(o=t[0],n=t[1],i=t[2],a=t[3],u=t[4],s=t[5],c=t[6],l=t[7],f=t[8],h=t[9],r=t[10],v=t[11],e[0]=o,e[1]=n,e[2]=i,e[3]=a,e[4]=u,e[5]=s,e[6]=c,e[7]=l,e[8]=f,e[9]=h,e[10]=r,e[11]=v,e[12]=o*m+u*p+f*R+t[12],e[13]=n*m+s*p+h*R+t[13],e[14]=i*m+c*p+r*R+t[14],e[15]=a*m+l*p+v*R+t[15]);return e};var n="undefined"!=typeof Float32Array?Float32Array:Array,w=1e-6},{}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.renderFrame=r.getMats=void 0;var i=e("./math.js"),u=r.getMats=function(e,t,r,o){var n=30*Math.PI/180,e=[e/t,.1,100,(0,i.create)()],t=e[3];(0,i.perspective)(t,n,e[0],e[1],e[2]);e=(0,i.create)();return(0,i.translate)(e,e,[-0,0,-25]),(0,i.rotate)(e,e,r/180*Math.PI,[1,0,0]),(0,i.rotate)(e,e,o/180*Math.PI,[0,1,0]),{projectionMat:t,modelViewMat:e}};r.renderFrame=function(e,t,r,o,n){var i=e.canvas,a=i.clientWidth,i=i.clientHeight,n=u(a,i,o,n);e.clearColor(0,0,0,0),e.clearDepth(1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),function(e,t,r,o){var n=r.projectionMat,i=r.modelViewMat,a=t.attribLocations,u=a.vertexPosition,s=a.vertexColor,c=t.uniformLocations,l=c.projectionMatrix,f=c.modelViewMatrix,h=[3,e.FLOAT,!1,0,0],r=h[0],a=h[1],t=h[2],c=h[3],h=h[4];e.bindBuffer(e.ARRAY_BUFFER,o.positions),e.vertexAttribPointer(u,r,a,t,c,h),e.enableVertexAttribArray(u);a=[4,e.FLOAT,!1,0,0],t=a[0],c=a[1],h=a[2],u=a[3],a=a[4];e.bindBuffer(e.ARRAY_BUFFER,o.colors),e.vertexAttribPointer(s,t,c,h,u,a),e.enableVertexAttribArray(s),e.uniformMatrix4fv(l,!1,n),e.uniformMatrix4fv(f,!1,i),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,o.indices);o=[0,e.UNSIGNED_SHORT,972];e.drawElements(e.TRIANGLES,o[2],o[1],o[0])}(e,t,n,r)}},{"./math.js":9}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.initProgram=function(e){var t=function(e,t,r){var o=i(e,e.VERTEX_SHADER,t),t=i(e,e.FRAGMENT_SHADER,r),r=e.createProgram();return e.attachShader(r,o),e.attachShader(r,t),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS)?r:(console.log("Error init shader program",e.getProgramInfoLog(r)),null)}(e,o,n);return{program:t,attribLocations:{vertexPosition:e.getAttribLocation(t,"aVertexPosition"),vertexColor:e.getAttribLocation(t,"aVertexColor")},uniformLocations:{projectionMatrix:e.getUniformLocation(t,"uProjectionMatrix"),modelViewMatrix:e.getUniformLocation(t,"uModelViewMatrix")}}};var o="\n  attribute vec4 aVertexPosition;\n  attribute vec4 aVertexColor;\n\n  uniform mat4 uModelViewMatrix;\n  uniform mat4 uProjectionMatrix;\n\n  varying lowp vec4 vColor;\n\n  void main(void) {\n    gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n    vColor = aVertexColor;\n  }\n",n="\n  varying lowp vec4 vColor;\n\n  void main(void) {\n    gl_FragColor = vColor;\n  }\n";function i(e,t,r){t=e.createShader(t);return e.shaderSource(t,r),e.compileShader(t),e.getShaderParameter(t,e.COMPILE_STATUS)?t:(console.log("Error compiling shaders",e.getShaderInfoLog(t)),e.deleteShader(t),null)}},{}]},{},[3]);